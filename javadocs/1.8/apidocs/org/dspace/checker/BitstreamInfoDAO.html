<!DOCTYPE HTML PUBLIC "-//W3C//DTD HTML 4.01 Transitional//EN" "http://www.w3.org/TR/html4/loose.dtd">
<!--NewPage-->
<HTML>
<HEAD>
<!-- Generated by javadoc (build 1.6.0_20) on Mon Nov 07 16:20:56 UTC 2011 -->
<META http-equiv="Content-Type" content="text/html; charset=UTF-8">
<TITLE>
BitstreamInfoDAO (DSpace Parent Project 1.8.0 API)
</TITLE>

<META NAME="date" CONTENT="2011-11-07">

<LINK REL ="stylesheet" TYPE="text/css" HREF="../../../stylesheet.css" TITLE="Style">

<SCRIPT type="text/javascript">
function windowTitle()
{
    if (location.href.indexOf('is-external=true') == -1) {
        parent.document.title="BitstreamInfoDAO (DSpace Parent Project 1.8.0 API)";
    }
}
</SCRIPT>
<NOSCRIPT>
</NOSCRIPT>

</HEAD>

<BODY BGCOLOR="white" onload="windowTitle();">
<HR>


<!-- ========= START OF TOP NAVBAR ======= -->
<A NAME="navbar_top"><!-- --></A>
<A HREF="#skip-navbar_top" title="Skip navigation links"></A>
<TABLE BORDER="0" WIDTH="100%" CELLPADDING="1" CELLSPACING="0" SUMMARY="">
<TR>
<TD COLSPAN=2 BGCOLOR="#EEEEFF" CLASS="NavBarCell1">
<A NAME="navbar_top_firstrow"><!-- --></A>
<TABLE BORDER="0" CELLPADDING="0" CELLSPACING="3" SUMMARY="">
  <TR ALIGN="center" VALIGN="top">
  <TD BGCOLOR="#EEEEFF" CLASS="NavBarCell1">    <A HREF="../../../overview-summary.html"><FONT CLASS="NavBarFont1"><B>Overview</B></FONT></A>&nbsp;</TD>
  <TD BGCOLOR="#EEEEFF" CLASS="NavBarCell1">    <A HREF="package-summary.html"><FONT CLASS="NavBarFont1"><B>Package</B></FONT></A>&nbsp;</TD>
  <TD BGCOLOR="#FFFFFF" CLASS="NavBarCell1Rev"> &nbsp;<FONT CLASS="NavBarFont1Rev"><B>Class</B></FONT>&nbsp;</TD>
  <TD BGCOLOR="#EEEEFF" CLASS="NavBarCell1">    <A HREF="class-use/BitstreamInfoDAO.html"><FONT CLASS="NavBarFont1"><B>Use</B></FONT></A>&nbsp;</TD>
  <TD BGCOLOR="#EEEEFF" CLASS="NavBarCell1">    <A HREF="package-tree.html"><FONT CLASS="NavBarFont1"><B>Tree</B></FONT></A>&nbsp;</TD>
  <TD BGCOLOR="#EEEEFF" CLASS="NavBarCell1">    <A HREF="../../../deprecated-list.html"><FONT CLASS="NavBarFont1"><B>Deprecated</B></FONT></A>&nbsp;</TD>
  <TD BGCOLOR="#EEEEFF" CLASS="NavBarCell1">    <A HREF="../../../index-all.html"><FONT CLASS="NavBarFont1"><B>Index</B></FONT></A>&nbsp;</TD>
  <TD BGCOLOR="#EEEEFF" CLASS="NavBarCell1">    <A HREF="../../../help-doc.html"><FONT CLASS="NavBarFont1"><B>Help</B></FONT></A>&nbsp;</TD>
  </TR>
</TABLE>
</TD>
<TD ALIGN="right" VALIGN="top" ROWSPAN=3><EM>
</EM>
</TD>
</TR>

<TR>
<TD BGCOLOR="white" CLASS="NavBarCell2"><FONT SIZE="-2">
&nbsp;<A HREF="../../../org/dspace/checker/BitstreamInfo.html" title="class in org.dspace.checker"><B>PREV CLASS</B></A>&nbsp;
&nbsp;<A HREF="../../../org/dspace/checker/CheckerCommand.html" title="class in org.dspace.checker"><B>NEXT CLASS</B></A></FONT></TD>
<TD BGCOLOR="white" CLASS="NavBarCell2"><FONT SIZE="-2">
  <A HREF="../../../index.html?org/dspace/checker/BitstreamInfoDAO.html" target="_top"><B>FRAMES</B></A>  &nbsp;
&nbsp;<A HREF="BitstreamInfoDAO.html" target="_top"><B>NO FRAMES</B></A>  &nbsp;
&nbsp;<SCRIPT type="text/javascript">
  <!--
  if(window==top) {
    document.writeln('<A HREF="../../../allclasses-noframe.html"><B>All Classes</B></A>');
  }
  //-->
</SCRIPT>
<NOSCRIPT>
  <A HREF="../../../allclasses-noframe.html"><B>All Classes</B></A>
</NOSCRIPT>


</FONT></TD>
</TR>
<TR>
<TD VALIGN="top" CLASS="NavBarCell3"><FONT SIZE="-2">
  SUMMARY:&nbsp;NESTED&nbsp;|&nbsp;<A HREF="#field_summary">FIELD</A>&nbsp;|&nbsp;<A HREF="#constructor_summary">CONSTR</A>&nbsp;|&nbsp;<A HREF="#method_summary">METHOD</A></FONT></TD>
<TD VALIGN="top" CLASS="NavBarCell3"><FONT SIZE="-2">
DETAIL:&nbsp;<A HREF="#field_detail">FIELD</A>&nbsp;|&nbsp;<A HREF="#constructor_detail">CONSTR</A>&nbsp;|&nbsp;<A HREF="#method_detail">METHOD</A></FONT></TD>
</TR>
</TABLE>
<A NAME="skip-navbar_top"></A>
<!-- ========= END OF TOP NAVBAR ========= -->

<HR>
<!-- ======== START OF CLASS DATA ======== -->
<H2>
<FONT SIZE="-1">
org.dspace.checker</FONT>
<BR>
Class BitstreamInfoDAO</H2>
<PRE>
java.lang.Object
  <IMG SRC="../../../resources/inherit.gif" ALT="extended by "><A HREF="../../../org/dspace/checker/DAOSupport.html" title="class in org.dspace.checker">org.dspace.checker.DAOSupport</A>
      <IMG SRC="../../../resources/inherit.gif" ALT="extended by "><B>org.dspace.checker.BitstreamInfoDAO</B>
</PRE>
<HR>
<DL>
<DT><PRE>public final class <B>BitstreamInfoDAO</B><DT>extends <A HREF="../../../org/dspace/checker/DAOSupport.html" title="class in org.dspace.checker">DAOSupport</A></DL>
</PRE>

<P>
<p>
 Database Access Object for bitstream information (metadata). Also performs
 the needed insert/update/delete commands on the database for the checksum
 checker.
 </p>
<P>

<P>
<DL>
<DT><B>Author:</B></DT>
  <DD>Jim Downing, Grace Carpenter, Nathan Sarr</DD>
</DL>
<HR>

<P>
<!-- =========== FIELD SUMMARY =========== -->

<A NAME="field_summary"><!-- --></A>
<TABLE BORDER="1" WIDTH="100%" CELLPADDING="3" CELLSPACING="0" SUMMARY="">
<TR BGCOLOR="#CCCCFF" CLASS="TableHeadingColor">
<TH ALIGN="left" COLSPAN="2"><FONT SIZE="+2">
<B>Field Summary</B></FONT></TH>
</TR>
<TR BGCOLOR="white" CLASS="TableRowColor">
<TD ALIGN="right" VALIGN="top" WIDTH="1%"><FONT SIZE="-1">
<CODE>static&nbsp;java.lang.String</CODE></FONT></TD>
<TD><CODE><B><A HREF="../../../org/dspace/checker/BitstreamInfoDAO.html#GET_OLDEST_BITSTREAM">GET_OLDEST_BITSTREAM</A></B></CODE>

<BR>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;This selects the next bitstream in order of last processing end date.</TD>
</TR>
<TR BGCOLOR="white" CLASS="TableRowColor">
<TD ALIGN="right" VALIGN="top" WIDTH="1%"><FONT SIZE="-1">
<CODE>static&nbsp;java.lang.String</CODE></FONT></TD>
<TD><CODE><B><A HREF="../../../org/dspace/checker/BitstreamInfoDAO.html#GET_OLDEST_BITSTREAM_DATE">GET_OLDEST_BITSTREAM_DATE</A></B></CODE>

<BR>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;Selects the next bitstream in order of last processing end date, ensuring
 that no bitstream is checked more than once since the date parameter
 used.</TD>
</TR>
<TR BGCOLOR="white" CLASS="TableRowColor">
<TD ALIGN="right" VALIGN="top" WIDTH="1%"><FONT SIZE="-1">
<CODE>static&nbsp;java.lang.String</CODE></FONT></TD>
<TD><CODE><B><A HREF="../../../org/dspace/checker/BitstreamInfoDAO.html#GET_OLDEST_BITSTREAM_DATE_ORACLE">GET_OLDEST_BITSTREAM_DATE_ORACLE</A></B></CODE>

<BR>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</TD>
</TR>
<TR BGCOLOR="white" CLASS="TableRowColor">
<TD ALIGN="right" VALIGN="top" WIDTH="1%"><FONT SIZE="-1">
<CODE>static&nbsp;java.lang.String</CODE></FONT></TD>
<TD><CODE><B><A HREF="../../../org/dspace/checker/BitstreamInfoDAO.html#GET_OLDEST_BITSTREAM_ORACLE">GET_OLDEST_BITSTREAM_ORACLE</A></B></CODE>

<BR>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</TD>
</TR>
<TR BGCOLOR="white" CLASS="TableRowColor">
<TD ALIGN="right" VALIGN="top" WIDTH="1%"><FONT SIZE="-1">
<CODE>static&nbsp;int</CODE></FONT></TD>
<TD><CODE><B><A HREF="../../../org/dspace/checker/BitstreamInfoDAO.html#SENTINEL">SENTINEL</A></B></CODE>

<BR>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;This value should be returned by <code>next()</code> to indicate that
 there are no more values.</TD>
</TR>
</TABLE>
&nbsp;
<!-- ======== CONSTRUCTOR SUMMARY ======== -->

<A NAME="constructor_summary"><!-- --></A>
<TABLE BORDER="1" WIDTH="100%" CELLPADDING="3" CELLSPACING="0" SUMMARY="">
<TR BGCOLOR="#CCCCFF" CLASS="TableHeadingColor">
<TH ALIGN="left" COLSPAN="2"><FONT SIZE="+2">
<B>Constructor Summary</B></FONT></TH>
</TR>
<TR BGCOLOR="white" CLASS="TableRowColor">
<TD><CODE><B><A HREF="../../../org/dspace/checker/BitstreamInfoDAO.html#BitstreamInfoDAO()">BitstreamInfoDAO</A></B>()</CODE>

<BR>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;Default constructor</TD>
</TR>
</TABLE>
&nbsp;
<!-- ========== METHOD SUMMARY =========== -->

<A NAME="method_summary"><!-- --></A>
<TABLE BORDER="1" WIDTH="100%" CELLPADDING="3" CELLSPACING="0" SUMMARY="">
<TR BGCOLOR="#CCCCFF" CLASS="TableHeadingColor">
<TH ALIGN="left" COLSPAN="2"><FONT SIZE="+2">
<B>Method Summary</B></FONT></TH>
</TR>
<TR BGCOLOR="white" CLASS="TableRowColor">
<TD ALIGN="right" VALIGN="top" WIDTH="1%"><FONT SIZE="-1">
<CODE>protected &nbsp;int</CODE></FONT></TD>
<TD><CODE><B><A HREF="../../../org/dspace/checker/BitstreamInfoDAO.html#deleteBitstreamInfo(int, java.sql.Connection)">deleteBitstreamInfo</A></B>(int&nbsp;id,
                    java.sql.Connection&nbsp;conn)</CODE>

<BR>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;Deletes the bitstream from the most_recent_checksum table if it exist.</TD>
</TR>
<TR BGCOLOR="white" CLASS="TableRowColor">
<TD ALIGN="right" VALIGN="top" WIDTH="1%"><FONT SIZE="-1">
<CODE>&nbsp;int</CODE></FONT></TD>
<TD><CODE><B><A HREF="../../../org/dspace/checker/BitstreamInfoDAO.html#deleteBitstreamInfoWithHistory(int)">deleteBitstreamInfoWithHistory</A></B>(int&nbsp;id)</CODE>

<BR>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</TD>
</TR>
<TR BGCOLOR="white" CLASS="TableRowColor">
<TD ALIGN="right" VALIGN="top" WIDTH="1%"><FONT SIZE="-1">
<CODE>&nbsp;<A HREF="../../../org/dspace/checker/BitstreamInfo.html" title="class in org.dspace.checker">BitstreamInfo</A></CODE></FONT></TD>
<TD><CODE><B><A HREF="../../../org/dspace/checker/BitstreamInfoDAO.html#findByBitstreamId(int)">findByBitstreamId</A></B>(int&nbsp;id)</CODE>

<BR>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;Find a bitstream by its id.</TD>
</TR>
<TR BGCOLOR="white" CLASS="TableRowColor">
<TD ALIGN="right" VALIGN="top" WIDTH="1%"><FONT SIZE="-1">
<CODE>&nbsp;java.util.List&lt;java.lang.Integer&gt;</CODE></FONT></TD>
<TD><CODE><B><A HREF="../../../org/dspace/checker/BitstreamInfoDAO.html#getCollectionBitstreams(int)">getCollectionBitstreams</A></B>(int&nbsp;collectionId)</CODE>

<BR>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;Get the bitstream ids for a given collection</TD>
</TR>
<TR BGCOLOR="white" CLASS="TableRowColor">
<TD ALIGN="right" VALIGN="top" WIDTH="1%"><FONT SIZE="-1">
<CODE>&nbsp;java.util.List&lt;java.lang.Integer&gt;</CODE></FONT></TD>
<TD><CODE><B><A HREF="../../../org/dspace/checker/BitstreamInfoDAO.html#getCommunityBitstreams(int)">getCommunityBitstreams</A></B>(int&nbsp;communityId)</CODE>

<BR>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;Get the bitstream ids for a given community</TD>
</TR>
<TR BGCOLOR="white" CLASS="TableRowColor">
<TD ALIGN="right" VALIGN="top" WIDTH="1%"><FONT SIZE="-1">
<CODE>&nbsp;java.util.List&lt;java.lang.Integer&gt;</CODE></FONT></TD>
<TD><CODE><B><A HREF="../../../org/dspace/checker/BitstreamInfoDAO.html#getItemBitstreams(int)">getItemBitstreams</A></B>(int&nbsp;itemId)</CODE>

<BR>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;Get the bitstream ids for a given Item</TD>
</TR>
<TR BGCOLOR="white" CLASS="TableRowColor">
<TD ALIGN="right" VALIGN="top" WIDTH="1%"><FONT SIZE="-1">
<CODE>&nbsp;int</CODE></FONT></TD>
<TD><CODE><B><A HREF="../../../org/dspace/checker/BitstreamInfoDAO.html#getOldestBitstream()">getOldestBitstream</A></B>()</CODE>

<BR>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;Get the oldest bitstream in the most recent checksum table.</TD>
</TR>
<TR BGCOLOR="white" CLASS="TableRowColor">
<TD ALIGN="right" VALIGN="top" WIDTH="1%"><FONT SIZE="-1">
<CODE>&nbsp;int</CODE></FONT></TD>
<TD><CODE><B><A HREF="../../../org/dspace/checker/BitstreamInfoDAO.html#getOldestBitstream(java.sql.Timestamp)">getOldestBitstream</A></B>(java.sql.Timestamp&nbsp;lessThanDate)</CODE>

<BR>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;Returns the oldest bistream that in the set of bitstreams that are less
 than the specified date.</TD>
</TR>
<TR BGCOLOR="white" CLASS="TableRowColor">
<TD ALIGN="right" VALIGN="top" WIDTH="1%"><FONT SIZE="-1">
<CODE>&nbsp;void</CODE></FONT></TD>
<TD><CODE><B><A HREF="../../../org/dspace/checker/BitstreamInfoDAO.html#update(org.dspace.checker.BitstreamInfo)">update</A></B>(<A HREF="../../../org/dspace/checker/BitstreamInfo.html" title="class in org.dspace.checker">BitstreamInfo</A>&nbsp;info)</CODE>

<BR>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;Updates most_recent_checksum with latest checksum and result of
 comparison with previous checksum.</TD>
</TR>
<TR BGCOLOR="white" CLASS="TableRowColor">
<TD ALIGN="right" VALIGN="top" WIDTH="1%"><FONT SIZE="-1">
<CODE>&nbsp;void</CODE></FONT></TD>
<TD><CODE><B><A HREF="../../../org/dspace/checker/BitstreamInfoDAO.html#updateMissingBitstreams()">updateMissingBitstreams</A></B>()</CODE>

<BR>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;Queries the bitstream table for bitstream IDs that are not yet in the
 most_recent_checksum table, and inserts them into the
 most_recent_checksum and checksum_history tables.</TD>
</TR>
</TABLE>
&nbsp;<A NAME="methods_inherited_from_class_org.dspace.checker.DAOSupport"><!-- --></A>
<TABLE BORDER="1" WIDTH="100%" CELLPADDING="3" CELLSPACING="0" SUMMARY="">
<TR BGCOLOR="#EEEEFF" CLASS="TableSubHeadingColor">
<TH ALIGN="left"><B>Methods inherited from class org.dspace.checker.<A HREF="../../../org/dspace/checker/DAOSupport.html" title="class in org.dspace.checker">DAOSupport</A></B></TH>
</TR>
<TR BGCOLOR="white" CLASS="TableRowColor">
<TD><CODE><A HREF="../../../org/dspace/checker/DAOSupport.html#cleanup(java.sql.Connection)">cleanup</A>, <A HREF="../../../org/dspace/checker/DAOSupport.html#cleanup(java.sql.Statement)">cleanup</A>, <A HREF="../../../org/dspace/checker/DAOSupport.html#cleanup(java.sql.Statement, java.sql.Connection)">cleanup</A>, <A HREF="../../../org/dspace/checker/DAOSupport.html#cleanup(java.sql.Statement, java.sql.Connection, java.sql.ResultSet)">cleanup</A></CODE></TD>
</TR>
</TABLE>
&nbsp;<A NAME="methods_inherited_from_class_java.lang.Object"><!-- --></A>
<TABLE BORDER="1" WIDTH="100%" CELLPADDING="3" CELLSPACING="0" SUMMARY="">
<TR BGCOLOR="#EEEEFF" CLASS="TableSubHeadingColor">
<TH ALIGN="left"><B>Methods inherited from class java.lang.Object</B></TH>
</TR>
<TR BGCOLOR="white" CLASS="TableRowColor">
<TD><CODE>clone, equals, finalize, getClass, hashCode, notify, notifyAll, toString, wait, wait, wait</CODE></TD>
</TR>
</TABLE>
&nbsp;
<P>

<!-- ============ FIELD DETAIL =========== -->

<A NAME="field_detail"><!-- --></A>
<TABLE BORDER="1" WIDTH="100%" CELLPADDING="3" CELLSPACING="0" SUMMARY="">
<TR BGCOLOR="#CCCCFF" CLASS="TableHeadingColor">
<TH ALIGN="left" COLSPAN="1"><FONT SIZE="+2">
<B>Field Detail</B></FONT></TH>
</TR>
</TABLE>

<A NAME="SENTINEL"><!-- --></A><H3>
SENTINEL</H3>
<PRE>
public static final int <B>SENTINEL</B></PRE>
<DL>
<DD>This value should be returned by <code>next()</code> to indicate that
 there are no more values.
<P>
<DL>
<DT><B>See Also:</B><DD><A HREF="../../../constant-values.html#org.dspace.checker.BitstreamInfoDAO.SENTINEL">Constant Field Values</A></DL>
</DL>
<HR>

<A NAME="GET_OLDEST_BITSTREAM"><!-- --></A><H3>
GET_OLDEST_BITSTREAM</H3>
<PRE>
public static final java.lang.String <B>GET_OLDEST_BITSTREAM</B></PRE>
<DL>
<DD>This selects the next bitstream in order of last processing end date. The
 timestamp is truncated to milliseconds this is because the Date for java
 does not support nanoseconds and milliseconds were considered accurate
 enough
<P>
<DL>
<DT><B>See Also:</B><DD><A HREF="../../../constant-values.html#org.dspace.checker.BitstreamInfoDAO.GET_OLDEST_BITSTREAM">Constant Field Values</A></DL>
</DL>
<HR>

<A NAME="GET_OLDEST_BITSTREAM_ORACLE"><!-- --></A><H3>
GET_OLDEST_BITSTREAM_ORACLE</H3>
<PRE>
public static final java.lang.String <B>GET_OLDEST_BITSTREAM_ORACLE</B></PRE>
<DL>
<DL>
<DT><B>See Also:</B><DD><A HREF="../../../constant-values.html#org.dspace.checker.BitstreamInfoDAO.GET_OLDEST_BITSTREAM_ORACLE">Constant Field Values</A></DL>
</DL>
<HR>

<A NAME="GET_OLDEST_BITSTREAM_DATE"><!-- --></A><H3>
GET_OLDEST_BITSTREAM_DATE</H3>
<PRE>
public static final java.lang.String <B>GET_OLDEST_BITSTREAM_DATE</B></PRE>
<DL>
<DD>Selects the next bitstream in order of last processing end date, ensuring
 that no bitstream is checked more than once since the date parameter
 used.
<P>
<DL>
<DT><B>See Also:</B><DD><A HREF="../../../constant-values.html#org.dspace.checker.BitstreamInfoDAO.GET_OLDEST_BITSTREAM_DATE">Constant Field Values</A></DL>
</DL>
<HR>

<A NAME="GET_OLDEST_BITSTREAM_DATE_ORACLE"><!-- --></A><H3>
GET_OLDEST_BITSTREAM_DATE_ORACLE</H3>
<PRE>
public static final java.lang.String <B>GET_OLDEST_BITSTREAM_DATE_ORACLE</B></PRE>
<DL>
<DL>
<DT><B>See Also:</B><DD><A HREF="../../../constant-values.html#org.dspace.checker.BitstreamInfoDAO.GET_OLDEST_BITSTREAM_DATE_ORACLE">Constant Field Values</A></DL>
</DL>

<!-- ========= CONSTRUCTOR DETAIL ======== -->

<A NAME="constructor_detail"><!-- --></A>
<TABLE BORDER="1" WIDTH="100%" CELLPADDING="3" CELLSPACING="0" SUMMARY="">
<TR BGCOLOR="#CCCCFF" CLASS="TableHeadingColor">
<TH ALIGN="left" COLSPAN="1"><FONT SIZE="+2">
<B>Constructor Detail</B></FONT></TH>
</TR>
</TABLE>

<A NAME="BitstreamInfoDAO()"><!-- --></A><H3>
BitstreamInfoDAO</H3>
<PRE>
public <B>BitstreamInfoDAO</B>()</PRE>
<DL>
<DD>Default constructor
<P>
</DL>

<!-- ============ METHOD DETAIL ========== -->

<A NAME="method_detail"><!-- --></A>
<TABLE BORDER="1" WIDTH="100%" CELLPADDING="3" CELLSPACING="0" SUMMARY="">
<TR BGCOLOR="#CCCCFF" CLASS="TableHeadingColor">
<TH ALIGN="left" COLSPAN="1"><FONT SIZE="+2">
<B>Method Detail</B></FONT></TH>
</TR>
</TABLE>

<A NAME="update(org.dspace.checker.BitstreamInfo)"><!-- --></A><H3>
update</H3>
<PRE>
public void <B>update</B>(<A HREF="../../../org/dspace/checker/BitstreamInfo.html" title="class in org.dspace.checker">BitstreamInfo</A>&nbsp;info)</PRE>
<DL>
<DD>Updates most_recent_checksum with latest checksum and result of
 comparison with previous checksum.
<P>
<DD><DL>
<DT><B>Parameters:</B><DD><CODE>info</CODE> - The BitstreamInfo to update.
<DT><B>Throws:</B>
<DD><CODE>java.lang.IllegalArgumentException</CODE> - if the BitstreamInfo given is null.</DL>
</DD>
</DL>
<HR>

<A NAME="findByBitstreamId(int)"><!-- --></A><H3>
findByBitstreamId</H3>
<PRE>
public <A HREF="../../../org/dspace/checker/BitstreamInfo.html" title="class in org.dspace.checker">BitstreamInfo</A> <B>findByBitstreamId</B>(int&nbsp;id)</PRE>
<DL>
<DD>Find a bitstream by its id.
<P>
<DD><DL>
<DT><B>Parameters:</B><DD><CODE>id</CODE> - the bitstream id
<DT><B>Returns:</B><DD>the bitstream information needed for checksum validation. Returns
         null if bitstream info isn't found.</DL>
</DD>
</DL>
<HR>

<A NAME="updateMissingBitstreams()"><!-- --></A><H3>
updateMissingBitstreams</H3>
<PRE>
public void <B>updateMissingBitstreams</B>()</PRE>
<DL>
<DD>Queries the bitstream table for bitstream IDs that are not yet in the
 most_recent_checksum table, and inserts them into the
 most_recent_checksum and checksum_history tables.
<P>
<DD><DL>
</DL>
</DD>
</DL>
<HR>

<A NAME="deleteBitstreamInfo(int, java.sql.Connection)"><!-- --></A><H3>
deleteBitstreamInfo</H3>
<PRE>
protected int <B>deleteBitstreamInfo</B>(int&nbsp;id,
                                  java.sql.Connection&nbsp;conn)</PRE>
<DL>
<DD>Deletes the bitstream from the most_recent_checksum table if it exist.
<P>
<DD><DL>
<DT><B>Parameters:</B><DD><CODE>id</CODE> - the bitstream id.
<DT><B>Returns:</B><DD>number of records deleted</DL>
</DD>
</DL>
<HR>

<A NAME="deleteBitstreamInfoWithHistory(int)"><!-- --></A><H3>
deleteBitstreamInfoWithHistory</H3>
<PRE>
public int <B>deleteBitstreamInfoWithHistory</B>(int&nbsp;id)</PRE>
<DL>
<DD><DL>
</DL>
</DD>
</DL>
<HR>

<A NAME="getOldestBitstream()"><!-- --></A><H3>
getOldestBitstream</H3>
<PRE>
public int <B>getOldestBitstream</B>()</PRE>
<DL>
<DD>Get the oldest bitstream in the most recent checksum table. If more than
 one found the first one in the result set is returned.
<P>
<DD><DL>

<DT><B>Returns:</B><DD>the bitstream id or -1 if the no bitstreams are found</DL>
</DD>
</DL>
<HR>

<A NAME="getOldestBitstream(java.sql.Timestamp)"><!-- --></A><H3>
getOldestBitstream</H3>
<PRE>
public int <B>getOldestBitstream</B>(java.sql.Timestamp&nbsp;lessThanDate)</PRE>
<DL>
<DD>Returns the oldest bistream that in the set of bitstreams that are less
 than the specified date. If no bitstreams are found -1 is returned.
<P>
<DD><DL>
<DT><B>Parameters:</B><DD><CODE>lessThanDate</CODE> - 
<DT><B>Returns:</B><DD>id of olded bitstream or -1 if not bistreams are found</DL>
</DD>
</DL>
<HR>

<A NAME="getItemBitstreams(int)"><!-- --></A><H3>
getItemBitstreams</H3>
<PRE>
public java.util.List&lt;java.lang.Integer&gt; <B>getItemBitstreams</B>(int&nbsp;itemId)</PRE>
<DL>
<DD>Get the bitstream ids for a given Item
<P>
<DD><DL>
<DT><B>Parameters:</B><DD><CODE>itemId</CODE> - 
<DT><B>Returns:</B><DD>the list of bitstream ids for this item</DL>
</DD>
</DL>
<HR>

<A NAME="getCollectionBitstreams(int)"><!-- --></A><H3>
getCollectionBitstreams</H3>
<PRE>
public java.util.List&lt;java.lang.Integer&gt; <B>getCollectionBitstreams</B>(int&nbsp;collectionId)</PRE>
<DL>
<DD>Get the bitstream ids for a given collection
<P>
<DD><DL>
<DT><B>Parameters:</B><DD><CODE>collectionId</CODE> - The id of the collection
<DT><B>Returns:</B><DD>the list of bitstream ids for this item</DL>
</DD>
</DL>
<HR>

<A NAME="getCommunityBitstreams(int)"><!-- --></A><H3>
getCommunityBitstreams</H3>
<PRE>
public java.util.List&lt;java.lang.Integer&gt; <B>getCommunityBitstreams</B>(int&nbsp;communityId)</PRE>
<DL>
<DD>Get the bitstream ids for a given community
<P>
<DD><DL>
<DT><B>Parameters:</B><DD><CODE>communityId</CODE> - the community id
<DT><B>Returns:</B><DD>the list of bitstream ids for this item</DL>
</DD>
</DL>
<!-- ========= END OF CLASS DATA ========= -->
<HR>


<!-- ======= START OF BOTTOM NAVBAR ====== -->
<A NAME="navbar_bottom"><!-- --></A>
<A HREF="#skip-navbar_bottom" title="Skip navigation links"></A>
<TABLE BORDER="0" WIDTH="100%" CELLPADDING="1" CELLSPACING="0" SUMMARY="">
<TR>
<TD COLSPAN=2 BGCOLOR="#EEEEFF" CLASS="NavBarCell1">
<A NAME="navbar_bottom_firstrow"><!-- --></A>
<TABLE BORDER="0" CELLPADDING="0" CELLSPACING="3" SUMMARY="">
  <TR ALIGN="center" VALIGN="top">
  <TD BGCOLOR="#EEEEFF" CLASS="NavBarCell1">    <A HREF="../../../overview-summary.html"><FONT CLASS="NavBarFont1"><B>Overview</B></FONT></A>&nbsp;</TD>
  <TD BGCOLOR="#EEEEFF" CLASS="NavBarCell1">    <A HREF="package-summary.html"><FONT CLASS="NavBarFont1"><B>Package</B></FONT></A>&nbsp;</TD>
  <TD BGCOLOR="#FFFFFF" CLASS="NavBarCell1Rev"> &nbsp;<FONT CLASS="NavBarFont1Rev"><B>Class</B></FONT>&nbsp;</TD>
  <TD BGCOLOR="#EEEEFF" CLASS="NavBarCell1">    <A HREF="class-use/BitstreamInfoDAO.html"><FONT CLASS="NavBarFont1"><B>Use</B></FONT></A>&nbsp;</TD>
  <TD BGCOLOR="#EEEEFF" CLASS="NavBarCell1">    <A HREF="package-tree.html"><FONT CLASS="NavBarFont1"><B>Tree</B></FONT></A>&nbsp;</TD>
  <TD BGCOLOR="#EEEEFF" CLASS="NavBarCell1">    <A HREF="../../../deprecated-list.html"><FONT CLASS="NavBarFont1"><B>Deprecated</B></FONT></A>&nbsp;</TD>
  <TD BGCOLOR="#EEEEFF" CLASS="NavBarCell1">    <A HREF="../../../index-all.html"><FONT CLASS="NavBarFont1"><B>Index</B></FONT></A>&nbsp;</TD>
  <TD BGCOLOR="#EEEEFF" CLASS="NavBarCell1">    <A HREF="../../../help-doc.html"><FONT CLASS="NavBarFont1"><B>Help</B></FONT></A>&nbsp;</TD>
  </TR>
</TABLE>
</TD>
<TD ALIGN="right" VALIGN="top" ROWSPAN=3><EM>
</EM>
</TD>
</TR>

<TR>
<TD BGCOLOR="white" CLASS="NavBarCell2"><FONT SIZE="-2">
&nbsp;<A HREF="../../../org/dspace/checker/BitstreamInfo.html" title="class in org.dspace.checker"><B>PREV CLASS</B></A>&nbsp;
&nbsp;<A HREF="../../../org/dspace/checker/CheckerCommand.html" title="class in org.dspace.checker"><B>NEXT CLASS</B></A></FONT></TD>
<TD BGCOLOR="white" CLASS="NavBarCell2"><FONT SIZE="-2">
  <A HREF="../../../index.html?org/dspace/checker/BitstreamInfoDAO.html" target="_top"><B>FRAMES</B></A>  &nbsp;
&nbsp;<A HREF="BitstreamInfoDAO.html" target="_top"><B>NO FRAMES</B></A>  &nbsp;
&nbsp;<SCRIPT type="text/javascript">
  <!--
  if(window==top) {
    document.writeln('<A HREF="../../../allclasses-noframe.html"><B>All Classes</B></A>');
  }
  //-->
</SCRIPT>
<NOSCRIPT>
  <A HREF="../../../allclasses-noframe.html"><B>All Classes</B></A>
</NOSCRIPT>


</FONT></TD>
</TR>
<TR>
<TD VALIGN="top" CLASS="NavBarCell3"><FONT SIZE="-2">
  SUMMARY:&nbsp;NESTED&nbsp;|&nbsp;<A HREF="#field_summary">FIELD</A>&nbsp;|&nbsp;<A HREF="#constructor_summary">CONSTR</A>&nbsp;|&nbsp;<A HREF="#method_summary">METHOD</A></FONT></TD>
<TD VALIGN="top" CLASS="NavBarCell3"><FONT SIZE="-2">
DETAIL:&nbsp;<A HREF="#field_detail">FIELD</A>&nbsp;|&nbsp;<A HREF="#constructor_detail">CONSTR</A>&nbsp;|&nbsp;<A HREF="#method_detail">METHOD</A></FONT></TD>
</TR>
</TABLE>
<A NAME="skip-navbar_bottom"></A>
<!-- ======== END OF BOTTOM NAVBAR ======= -->

<HR>
Copyright &#169; 2011 <a href="http://www.dspace.org">DuraSpace</a>. All Rights Reserved.
</BODY>
</HTML>
