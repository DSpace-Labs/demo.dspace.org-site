<!DOCTYPE HTML PUBLIC "-//W3C//DTD HTML 4.01 Transitional//EN" "http://www.w3.org/TR/html4/loose.dtd">
<!-- NewPage -->
<html lang="en">
<head>
<!-- Generated by javadoc (1.8.0_91) on Thu Oct 27 10:14:05 UTC 2016 -->
<meta http-equiv="Content-Type" content="text/html; charset=UTF-8">
<title>ItemExportServiceImpl (DSpace Parent Project 6.0 API)</title>
<meta name="date" content="2016-10-27">
<link rel="stylesheet" type="text/css" href="../../../../stylesheet.css" title="Style">
<script type="text/javascript" src="../../../../script.js"></script>
</head>
<body>
<script type="text/javascript"><!--
    try {
        if (location.href.indexOf('is-external=true') == -1) {
            parent.document.title="ItemExportServiceImpl (DSpace Parent Project 6.0 API)";
        }
    }
    catch(err) {
    }
//-->
var methods = {"i0":10,"i1":10,"i2":10,"i3":10,"i4":10,"i5":10,"i6":10,"i7":10,"i8":10,"i9":10,"i10":10,"i11":10,"i12":10,"i13":10,"i14":10,"i15":10,"i16":10,"i17":10,"i18":10,"i19":10,"i20":10,"i21":10,"i22":10,"i23":10,"i24":10,"i25":10,"i26":10,"i27":10};
var tabs = {65535:["t0","All Methods"],2:["t2","Instance Methods"],8:["t4","Concrete Methods"]};
var altColor = "altColor";
var rowColor = "rowColor";
var tableTab = "tableTab";
var activeTableTab = "activeTableTab";
</script>
<noscript>
<div>JavaScript is disabled on your browser.</div>
</noscript>
<!-- ========= START OF TOP NAVBAR ======= -->
<div class="topNav"><a name="navbar.top">
<!--   -->
</a>
<div class="skipNav"><a href="#skip.navbar.top" title="Skip navigation links">Skip navigation links</a></div>
<a name="navbar.top.firstrow">
<!--   -->
</a>
<ul class="navList" title="Navigation">
<li><a href="../../../../overview-summary.html">Overview</a></li>
<li><a href="package-summary.html">Package</a></li>
<li class="navBarCell1Rev">Class</li>
<li><a href="class-use/ItemExportServiceImpl.html">Use</a></li>
<li><a href="package-tree.html">Tree</a></li>
<li><a href="../../../../deprecated-list.html">Deprecated</a></li>
<li><a href="../../../../index-all.html">Index</a></li>
<li><a href="../../../../help-doc.html">Help</a></li>
</ul>
</div>
<div class="subNav">
<ul class="navList">
<li><a href="../../../../org/dspace/app/itemexport/ItemExportException.html" title="class in org.dspace.app.itemexport"><span class="typeNameLink">Prev&nbsp;Class</span></a></li>
<li>Next&nbsp;Class</li>
</ul>
<ul class="navList">
<li><a href="../../../../index.html?org/dspace/app/itemexport/ItemExportServiceImpl.html" target="_top">Frames</a></li>
<li><a href="ItemExportServiceImpl.html" target="_top">No&nbsp;Frames</a></li>
</ul>
<ul class="navList" id="allclasses_navbar_top">
<li><a href="../../../../allclasses-noframe.html">All&nbsp;Classes</a></li>
</ul>
<div>
<script type="text/javascript"><!--
  allClassesLink = document.getElementById("allclasses_navbar_top");
  if(window==top) {
    allClassesLink.style.display = "block";
  }
  else {
    allClassesLink.style.display = "none";
  }
  //-->
</script>
</div>
<div>
<ul class="subNavList">
<li>Summary:&nbsp;</li>
<li>Nested&nbsp;|&nbsp;</li>
<li><a href="#field.summary">Field</a>&nbsp;|&nbsp;</li>
<li><a href="#constructor.summary">Constr</a>&nbsp;|&nbsp;</li>
<li><a href="#method.summary">Method</a></li>
</ul>
<ul class="subNavList">
<li>Detail:&nbsp;</li>
<li><a href="#field.detail">Field</a>&nbsp;|&nbsp;</li>
<li><a href="#constructor.detail">Constr</a>&nbsp;|&nbsp;</li>
<li><a href="#method.detail">Method</a></li>
</ul>
</div>
<a name="skip.navbar.top">
<!--   -->
</a></div>
<!-- ========= END OF TOP NAVBAR ========= -->
<!-- ======== START OF CLASS DATA ======== -->
<div class="header">
<div class="subTitle">org.dspace.app.itemexport</div>
<h2 title="Class ItemExportServiceImpl" class="title">Class ItemExportServiceImpl</h2>
</div>
<div class="contentContainer">
<ul class="inheritance">
<li><a href="http://docs.oracle.com/javase/7/docs/api/java/lang/Object.html?is-external=true" title="class or interface in java.lang">java.lang.Object</a></li>
<li>
<ul class="inheritance">
<li>org.dspace.app.itemexport.ItemExportServiceImpl</li>
</ul>
</li>
</ul>
<div class="description">
<ul class="blockList">
<li class="blockList">
<dl>
<dt>All Implemented Interfaces:</dt>
<dd><a href="../../../../org/dspace/app/itemexport/service/ItemExportService.html" title="interface in org.dspace.app.itemexport.service">ItemExportService</a></dd>
</dl>
<hr>
<br>
<pre>public class <span class="typeNameLabel">ItemExportServiceImpl</span>
extends <a href="http://docs.oracle.com/javase/7/docs/api/java/lang/Object.html?is-external=true" title="class or interface in java.lang">Object</a>
implements <a href="../../../../org/dspace/app/itemexport/service/ItemExportService.html" title="interface in org.dspace.app.itemexport.service">ItemExportService</a></pre>
<div class="block">Item exporter to create simple AIPs for DSpace content. Currently exports
 individual items, or entire collections. For instructions on use, see
 printUsage() method.
 <P>
 ItemExport creates the simple AIP package that the importer also uses. It
 consists of:
 <P>
 /exportdir/42/ (one directory per item) / dublin_core.xml - qualified dublin
 core in RDF schema / contents - text file, listing one file per line / file1
 - files contained in the item / file2 / ...
 <P>
 issues -doesn't handle special characters in metadata (needs to turn <code>&amp;'s</code> into
 <code>&amp;amp;</code>, etc.)
 <P>
 Modified by David Little, UCSD Libraries 12/21/04 to allow the registration
 of files (bitstreams) into DSpace.</div>
<dl>
<dt><span class="simpleTagLabel">Author:</span></dt>
<dd>David Little, Jay Paz</dd>
</dl>
</li>
</ul>
</div>
<div class="summary">
<ul class="blockList">
<li class="blockList">
<!-- =========== FIELD SUMMARY =========== -->
<ul class="blockList">
<li class="blockList"><a name="field.summary">
<!--   -->
</a>
<h3>Field Summary</h3>
<table class="memberSummary" border="0" cellpadding="3" cellspacing="0" summary="Field Summary table, listing fields, and an explanation">
<caption><span>Fields</span><span class="tabEnd">&nbsp;</span></caption>
<tr>
<th class="colFirst" scope="col">Modifier and Type</th>
<th class="colLast" scope="col">Field and Description</th>
</tr>
<tr class="altColor">
<td class="colFirst"><code>protected <a href="../../../../org/dspace/content/service/BitstreamService.html" title="interface in org.dspace.content.service">BitstreamService</a></code></td>
<td class="colLast"><code><span class="memberNameLink"><a href="../../../../org/dspace/app/itemexport/ItemExportServiceImpl.html#bitstreamService">bitstreamService</a></span></code>&nbsp;</td>
</tr>
<tr class="rowColor">
<td class="colFirst"><code>protected <a href="../../../../org/dspace/content/service/CommunityService.html" title="interface in org.dspace.content.service">CommunityService</a></code></td>
<td class="colLast"><code><span class="memberNameLink"><a href="../../../../org/dspace/app/itemexport/ItemExportServiceImpl.html#communityService">communityService</a></span></code>&nbsp;</td>
</tr>
<tr class="altColor">
<td class="colFirst"><code>protected <a href="../../../../org/dspace/eperson/service/EPersonService.html" title="interface in org.dspace.eperson.service">EPersonService</a></code></td>
<td class="colLast"><code><span class="memberNameLink"><a href="../../../../org/dspace/app/itemexport/ItemExportServiceImpl.html#ePersonService">ePersonService</a></span></code>&nbsp;</td>
</tr>
<tr class="rowColor">
<td class="colFirst"><code>protected <a href="../../../../org/dspace/handle/service/HandleService.html" title="interface in org.dspace.handle.service">HandleService</a></code></td>
<td class="colLast"><code><span class="memberNameLink"><a href="../../../../org/dspace/app/itemexport/ItemExportServiceImpl.html#handleService">handleService</a></span></code>&nbsp;</td>
</tr>
<tr class="altColor">
<td class="colFirst"><code>protected <a href="../../../../org/dspace/content/service/ItemService.html" title="interface in org.dspace.content.service">ItemService</a></code></td>
<td class="colLast"><code><span class="memberNameLink"><a href="../../../../org/dspace/app/itemexport/ItemExportServiceImpl.html#itemService">itemService</a></span></code>&nbsp;</td>
</tr>
<tr class="rowColor">
<td class="colFirst"><code>protected int</code></td>
<td class="colLast"><code><span class="memberNameLink"><a href="../../../../org/dspace/app/itemexport/ItemExportServiceImpl.html#SUBDIR_LIMIT">SUBDIR_LIMIT</a></span></code>&nbsp;</td>
</tr>
</table>
<ul class="blockList">
<li class="blockList"><a name="fields.inherited.from.class.org.dspace.app.itemexport.service.ItemExportService">
<!--   -->
</a>
<h3>Fields inherited from interface&nbsp;org.dspace.app.itemexport.service.<a href="../../../../org/dspace/app/itemexport/service/ItemExportService.html" title="interface in org.dspace.app.itemexport.service">ItemExportService</a></h3>
<code><a href="../../../../org/dspace/app/itemexport/service/ItemExportService.html#COMPRESSED_EXPORT_MIME_TYPE">COMPRESSED_EXPORT_MIME_TYPE</a></code></li>
</ul>
</li>
</ul>
<!-- ======== CONSTRUCTOR SUMMARY ======== -->
<ul class="blockList">
<li class="blockList"><a name="constructor.summary">
<!--   -->
</a>
<h3>Constructor Summary</h3>
<table class="memberSummary" border="0" cellpadding="3" cellspacing="0" summary="Constructor Summary table, listing constructors, and an explanation">
<caption><span>Constructors</span><span class="tabEnd">&nbsp;</span></caption>
<tr>
<th class="colFirst" scope="col">Modifier</th>
<th class="colLast" scope="col">Constructor and Description</th>
</tr>
<tr class="altColor">
<td class="colFirst"><code>protected </code></td>
<td class="colLast"><code><span class="memberNameLink"><a href="../../../../org/dspace/app/itemexport/ItemExportServiceImpl.html#ItemExportServiceImpl--">ItemExportServiceImpl</a></span>()</code>&nbsp;</td>
</tr>
</table>
</li>
</ul>
<!-- ========== METHOD SUMMARY =========== -->
<ul class="blockList">
<li class="blockList"><a name="method.summary">
<!--   -->
</a>
<h3>Method Summary</h3>
<table class="memberSummary" border="0" cellpadding="3" cellspacing="0" summary="Method Summary table, listing methods, and an explanation">
<caption><span id="t0" class="activeTableTab"><span>All Methods</span><span class="tabEnd">&nbsp;</span></span><span id="t2" class="tableTab"><span><a href="javascript:show(2);">Instance Methods</a></span><span class="tabEnd">&nbsp;</span></span><span id="t4" class="tableTab"><span><a href="javascript:show(8);">Concrete Methods</a></span><span class="tabEnd">&nbsp;</span></span></caption>
<tr>
<th class="colFirst" scope="col">Modifier and Type</th>
<th class="colLast" scope="col">Method and Description</th>
</tr>
<tr id="i0" class="altColor">
<td class="colFirst"><code><a href="http://docs.oracle.com/javase/7/docs/api/java/lang/String.html?is-external=true" title="class or interface in java.lang">String</a></code></td>
<td class="colLast"><code><span class="memberNameLink"><a href="../../../../org/dspace/app/itemexport/ItemExportServiceImpl.html#assembleFileName-java.lang.String-org.dspace.eperson.EPerson-java.util.Date-">assembleFileName</a></span>(<a href="http://docs.oracle.com/javase/7/docs/api/java/lang/String.html?is-external=true" title="class or interface in java.lang">String</a>&nbsp;type,
                <a href="../../../../org/dspace/eperson/EPerson.html" title="class in org.dspace.eperson">EPerson</a>&nbsp;eperson,
                <a href="http://docs.oracle.com/javase/7/docs/api/java/util/Date.html?is-external=true" title="class or interface in java.util">Date</a>&nbsp;date)</code>
<div class="block">Create a file name based on the date and eperson</div>
</td>
</tr>
<tr id="i1" class="rowColor">
<td class="colFirst"><code>boolean</code></td>
<td class="colLast"><code><span class="memberNameLink"><a href="../../../../org/dspace/app/itemexport/ItemExportServiceImpl.html#canDownload-org.dspace.core.Context-java.lang.String-">canDownload</a></span>(<a href="../../../../org/dspace/core/Context.html" title="class in org.dspace.core">Context</a>&nbsp;context,
           <a href="http://docs.oracle.com/javase/7/docs/api/java/lang/String.html?is-external=true" title="class or interface in java.lang">String</a>&nbsp;fileName)</code>
<div class="block">The file name of the export archive contains the eperson id of the person
 who created it When requested for download this method can check if the
 person requesting it is the same one that created it</div>
</td>
</tr>
<tr id="i2" class="altColor">
<td class="colFirst"><code>void</code></td>
<td class="colLast"><code><span class="memberNameLink"><a href="../../../../org/dspace/app/itemexport/ItemExportServiceImpl.html#createDownloadableExport-org.dspace.content.DSpaceObject-org.dspace.core.Context-boolean-">createDownloadableExport</a></span>(<a href="../../../../org/dspace/content/DSpaceObject.html" title="class in org.dspace.content">DSpaceObject</a>&nbsp;dso,
                        <a href="../../../../org/dspace/core/Context.html" title="class in org.dspace.core">Context</a>&nbsp;context,
                        boolean&nbsp;migrate)</code>
<div class="block">Convenience methot to create export a single Community, Collection, or
 Item</div>
</td>
</tr>
<tr id="i3" class="rowColor">
<td class="colFirst"><code>void</code></td>
<td class="colLast"><code><span class="memberNameLink"><a href="../../../../org/dspace/app/itemexport/ItemExportServiceImpl.html#createDownloadableExport-org.dspace.content.DSpaceObject-org.dspace.core.Context-java.lang.String-boolean-">createDownloadableExport</a></span>(<a href="../../../../org/dspace/content/DSpaceObject.html" title="class in org.dspace.content">DSpaceObject</a>&nbsp;dso,
                        <a href="../../../../org/dspace/core/Context.html" title="class in org.dspace.core">Context</a>&nbsp;context,
                        <a href="http://docs.oracle.com/javase/7/docs/api/java/lang/String.html?is-external=true" title="class or interface in java.lang">String</a>&nbsp;additionalEmail,
                        boolean&nbsp;migrate)</code>
<div class="block">Convenience methot to create export a single Community, Collection, or
 Item</div>
</td>
</tr>
<tr id="i4" class="altColor">
<td class="colFirst"><code>void</code></td>
<td class="colLast"><code><span class="memberNameLink"><a href="../../../../org/dspace/app/itemexport/ItemExportServiceImpl.html#createDownloadableExport-java.util.List-org.dspace.core.Context-boolean-">createDownloadableExport</a></span>(<a href="http://docs.oracle.com/javase/7/docs/api/java/util/List.html?is-external=true" title="class or interface in java.util">List</a>&lt;<a href="../../../../org/dspace/content/DSpaceObject.html" title="class in org.dspace.content">DSpaceObject</a>&gt;&nbsp;dsObjects,
                        <a href="../../../../org/dspace/core/Context.html" title="class in org.dspace.core">Context</a>&nbsp;context,
                        boolean&nbsp;migrate)</code>
<div class="block">Convenience method to export a List of dspace objects (Community,
 Collection or Item)</div>
</td>
</tr>
<tr id="i5" class="rowColor">
<td class="colFirst"><code>void</code></td>
<td class="colLast"><code><span class="memberNameLink"><a href="../../../../org/dspace/app/itemexport/ItemExportServiceImpl.html#createDownloadableExport-java.util.List-org.dspace.core.Context-java.lang.String-boolean-">createDownloadableExport</a></span>(<a href="http://docs.oracle.com/javase/7/docs/api/java/util/List.html?is-external=true" title="class or interface in java.util">List</a>&lt;<a href="../../../../org/dspace/content/DSpaceObject.html" title="class in org.dspace.content">DSpaceObject</a>&gt;&nbsp;dsObjects,
                        <a href="../../../../org/dspace/core/Context.html" title="class in org.dspace.core">Context</a>&nbsp;context,
                        <a href="http://docs.oracle.com/javase/7/docs/api/java/lang/String.html?is-external=true" title="class or interface in java.lang">String</a>&nbsp;additionalEmail,
                        boolean&nbsp;migrate)</code>
<div class="block">Convenience method to export a List of dspace objects (Community,
 Collection or Item)</div>
</td>
</tr>
<tr id="i6" class="altColor">
<td class="colFirst"><code>protected boolean</code></td>
<td class="colLast"><code><span class="memberNameLink"><a href="../../../../org/dspace/app/itemexport/ItemExportServiceImpl.html#deleteDirectory-java.io.File-">deleteDirectory</a></span>(<a href="http://docs.oracle.com/javase/7/docs/api/java/io/File.html?is-external=true" title="class or interface in java.io">File</a>&nbsp;path)</code>
<div class="block">Delete a directory</div>
</td>
</tr>
<tr id="i7" class="rowColor">
<td class="colFirst"><code>void</code></td>
<td class="colLast"><code><span class="memberNameLink"><a href="../../../../org/dspace/app/itemexport/ItemExportServiceImpl.html#deleteOldExportArchives--">deleteOldExportArchives</a></span>()</code>
<div class="block">A clean up method that is ran before a new export archive is created.</div>
</td>
</tr>
<tr id="i8" class="altColor">
<td class="colFirst"><code>void</code></td>
<td class="colLast"><code><span class="memberNameLink"><a href="../../../../org/dspace/app/itemexport/ItemExportServiceImpl.html#deleteOldExportArchives-org.dspace.eperson.EPerson-">deleteOldExportArchives</a></span>(<a href="../../../../org/dspace/eperson/EPerson.html" title="class in org.dspace.eperson">EPerson</a>&nbsp;eperson)</code>
<div class="block">A clean up method that is ran before a new export archive is created.</div>
</td>
</tr>
<tr id="i9" class="rowColor">
<td class="colFirst"><code>void</code></td>
<td class="colLast"><code><span class="memberNameLink"><a href="../../../../org/dspace/app/itemexport/ItemExportServiceImpl.html#emailErrorMessage-org.dspace.eperson.EPerson-java.lang.String-">emailErrorMessage</a></span>(<a href="../../../../org/dspace/eperson/EPerson.html" title="class in org.dspace.eperson">EPerson</a>&nbsp;eperson,
                 <a href="http://docs.oracle.com/javase/7/docs/api/java/lang/String.html?is-external=true" title="class or interface in java.lang">String</a>&nbsp;error)</code>
<div class="block">Since the archive is created in a new thread we are unable to communicate
 with calling method about success or failure.</div>
</td>
</tr>
<tr id="i10" class="altColor">
<td class="colFirst"><code>void</code></td>
<td class="colLast"><code><span class="memberNameLink"><a href="../../../../org/dspace/app/itemexport/ItemExportServiceImpl.html#emailSuccessMessage-org.dspace.core.Context-org.dspace.eperson.EPerson-java.lang.String-">emailSuccessMessage</a></span>(<a href="../../../../org/dspace/core/Context.html" title="class in org.dspace.core">Context</a>&nbsp;context,
                   <a href="../../../../org/dspace/eperson/EPerson.html" title="class in org.dspace.eperson">EPerson</a>&nbsp;eperson,
                   <a href="http://docs.oracle.com/javase/7/docs/api/java/lang/String.html?is-external=true" title="class or interface in java.lang">String</a>&nbsp;fileName)</code>
<div class="block">Since the archive is created in a new thread we are unable to communicate
 with calling method about success or failure.</div>
</td>
</tr>
<tr id="i11" class="rowColor">
<td class="colFirst"><code>void</code></td>
<td class="colLast"><code><span class="memberNameLink"><a href="../../../../org/dspace/app/itemexport/ItemExportServiceImpl.html#exportAsZip-org.dspace.core.Context-java.util.Iterator-java.lang.String-java.lang.String-int-boolean-boolean-">exportAsZip</a></span>(<a href="../../../../org/dspace/core/Context.html" title="class in org.dspace.core">Context</a>&nbsp;context,
           <a href="http://docs.oracle.com/javase/7/docs/api/java/util/Iterator.html?is-external=true" title="class or interface in java.util">Iterator</a>&lt;<a href="../../../../org/dspace/content/Item.html" title="class in org.dspace.content">Item</a>&gt;&nbsp;items,
           <a href="http://docs.oracle.com/javase/7/docs/api/java/lang/String.html?is-external=true" title="class or interface in java.lang">String</a>&nbsp;destDirName,
           <a href="http://docs.oracle.com/javase/7/docs/api/java/lang/String.html?is-external=true" title="class or interface in java.lang">String</a>&nbsp;zipFileName,
           int&nbsp;seqStart,
           boolean&nbsp;migrate,
           boolean&nbsp;excludeBitstreams)</code>
<div class="block">Method to perform an export and save it as a zip file.</div>
</td>
</tr>
<tr id="i12" class="altColor">
<td class="colFirst"><code>protected void</code></td>
<td class="colLast"><code><span class="memberNameLink"><a href="../../../../org/dspace/app/itemexport/ItemExportServiceImpl.html#exportItem-org.dspace.core.Context-org.dspace.content.Item-java.lang.String-int-boolean-boolean-">exportItem</a></span>(<a href="../../../../org/dspace/core/Context.html" title="class in org.dspace.core">Context</a>&nbsp;c,
          <a href="../../../../org/dspace/content/Item.html" title="class in org.dspace.content">Item</a>&nbsp;myItem,
          <a href="http://docs.oracle.com/javase/7/docs/api/java/lang/String.html?is-external=true" title="class or interface in java.lang">String</a>&nbsp;destDirName,
          int&nbsp;seqStart,
          boolean&nbsp;migrate,
          boolean&nbsp;excludeBitstreams)</code>&nbsp;</td>
</tr>
<tr id="i13" class="rowColor">
<td class="colFirst"><code>void</code></td>
<td class="colLast"><code><span class="memberNameLink"><a href="../../../../org/dspace/app/itemexport/ItemExportServiceImpl.html#exportItem-org.dspace.core.Context-java.util.Iterator-java.lang.String-int-boolean-boolean-">exportItem</a></span>(<a href="../../../../org/dspace/core/Context.html" title="class in org.dspace.core">Context</a>&nbsp;c,
          <a href="http://docs.oracle.com/javase/7/docs/api/java/util/Iterator.html?is-external=true" title="class or interface in java.util">Iterator</a>&lt;<a href="../../../../org/dspace/content/Item.html" title="class in org.dspace.content">Item</a>&gt;&nbsp;i,
          <a href="http://docs.oracle.com/javase/7/docs/api/java/lang/String.html?is-external=true" title="class or interface in java.lang">String</a>&nbsp;destDirName,
          int&nbsp;seqStart,
          boolean&nbsp;migrate,
          boolean&nbsp;excludeBitstreams)</code>&nbsp;</td>
</tr>
<tr id="i14" class="altColor">
<td class="colFirst"><code>protected <a href="../../../../org/dspace/eperson/EPerson.html" title="class in org.dspace.eperson">EPerson</a></code></td>
<td class="colLast"><code><span class="memberNameLink"><a href="../../../../org/dspace/app/itemexport/ItemExportServiceImpl.html#getEPersonFromString-org.dspace.core.Context-java.lang.String-">getEPersonFromString</a></span>(<a href="../../../../org/dspace/core/Context.html" title="class in org.dspace.core">Context</a>&nbsp;context,
                    <a href="http://docs.oracle.com/javase/7/docs/api/java/lang/String.html?is-external=true" title="class or interface in java.lang">String</a>&nbsp;strID)</code>
<div class="block">Attempt to find an EPerson based on string ID</div>
</td>
</tr>
<tr id="i15" class="rowColor">
<td class="colFirst"><code><a href="http://docs.oracle.com/javase/7/docs/api/java/lang/String.html?is-external=true" title="class or interface in java.lang">String</a></code></td>
<td class="colLast"><code><span class="memberNameLink"><a href="../../../../org/dspace/app/itemexport/ItemExportServiceImpl.html#getExportDownloadDirectory-org.dspace.eperson.EPerson-">getExportDownloadDirectory</a></span>(<a href="../../../../org/dspace/eperson/EPerson.html" title="class in org.dspace.eperson">EPerson</a>&nbsp;ePerson)</code>
<div class="block">Use config file entry for org.dspace.app.itemexport.download.dir and id
 of the eperson to create a download directory name</div>
</td>
</tr>
<tr id="i16" class="altColor">
<td class="colFirst"><code><a href="http://docs.oracle.com/javase/7/docs/api/java/io/InputStream.html?is-external=true" title="class or interface in java.io">InputStream</a></code></td>
<td class="colLast"><code><span class="memberNameLink"><a href="../../../../org/dspace/app/itemexport/ItemExportServiceImpl.html#getExportDownloadInputStream-java.lang.String-org.dspace.eperson.EPerson-">getExportDownloadInputStream</a></span>(<a href="http://docs.oracle.com/javase/7/docs/api/java/lang/String.html?is-external=true" title="class or interface in java.lang">String</a>&nbsp;fileName,
                            <a href="../../../../org/dspace/eperson/EPerson.html" title="class in org.dspace.eperson">EPerson</a>&nbsp;eperson)</code>
<div class="block">Used to read the export archived.</div>
</td>
</tr>
<tr id="i17" class="rowColor">
<td class="colFirst"><code>long</code></td>
<td class="colLast"><code><span class="memberNameLink"><a href="../../../../org/dspace/app/itemexport/ItemExportServiceImpl.html#getExportFileLastModified-org.dspace.core.Context-java.lang.String-">getExportFileLastModified</a></span>(<a href="../../../../org/dspace/core/Context.html" title="class in org.dspace.core">Context</a>&nbsp;context,
                         <a href="http://docs.oracle.com/javase/7/docs/api/java/lang/String.html?is-external=true" title="class or interface in java.lang">String</a>&nbsp;fileName)</code>
<div class="block">Get the last modified date of the export archive represented by the file name.</div>
</td>
</tr>
<tr id="i18" class="altColor">
<td class="colFirst"><code>long</code></td>
<td class="colLast"><code><span class="memberNameLink"><a href="../../../../org/dspace/app/itemexport/ItemExportServiceImpl.html#getExportFileSize-org.dspace.core.Context-java.lang.String-">getExportFileSize</a></span>(<a href="../../../../org/dspace/core/Context.html" title="class in org.dspace.core">Context</a>&nbsp;context,
                 <a href="http://docs.oracle.com/javase/7/docs/api/java/lang/String.html?is-external=true" title="class or interface in java.lang">String</a>&nbsp;fileName)</code>
<div class="block">Get the file size of the export archive represented by the file name.</div>
</td>
</tr>
<tr id="i19" class="rowColor">
<td class="colFirst"><code><a href="http://docs.oracle.com/javase/7/docs/api/java/util/List.html?is-external=true" title="class or interface in java.util">List</a>&lt;<a href="http://docs.oracle.com/javase/7/docs/api/java/lang/String.html?is-external=true" title="class or interface in java.lang">String</a>&gt;</code></td>
<td class="colLast"><code><span class="memberNameLink"><a href="../../../../org/dspace/app/itemexport/ItemExportServiceImpl.html#getExportsAvailable-org.dspace.eperson.EPerson-">getExportsAvailable</a></span>(<a href="../../../../org/dspace/eperson/EPerson.html" title="class in org.dspace.eperson">EPerson</a>&nbsp;eperson)</code>
<div class="block">Reads the download directory for the eperson to see if any export
 archives are available</div>
</td>
</tr>
<tr id="i20" class="altColor">
<td class="colFirst"><code><a href="http://docs.oracle.com/javase/7/docs/api/java/lang/String.html?is-external=true" title="class or interface in java.lang">String</a></code></td>
<td class="colLast"><code><span class="memberNameLink"><a href="../../../../org/dspace/app/itemexport/ItemExportServiceImpl.html#getExportWorkDirectory--">getExportWorkDirectory</a></span>()</code>
<div class="block">Returns config file entry for org.dspace.app.itemexport.work.dir</div>
</td>
</tr>
<tr id="i21" class="rowColor">
<td class="colFirst"><code>protected void</code></td>
<td class="colLast"><code><span class="memberNameLink"><a href="../../../../org/dspace/app/itemexport/ItemExportServiceImpl.html#processDownloadableExport-java.util.List-org.dspace.core.Context-java.lang.String-boolean-">processDownloadableExport</a></span>(<a href="http://docs.oracle.com/javase/7/docs/api/java/util/List.html?is-external=true" title="class or interface in java.util">List</a>&lt;<a href="../../../../org/dspace/content/DSpaceObject.html" title="class in org.dspace.content">DSpaceObject</a>&gt;&nbsp;dsObjects,
                         <a href="../../../../org/dspace/core/Context.html" title="class in org.dspace.core">Context</a>&nbsp;context,
                         <a href="http://docs.oracle.com/javase/7/docs/api/java/lang/String.html?is-external=true" title="class or interface in java.lang">String</a>&nbsp;additionalEmail,
                         boolean&nbsp;toMigrate)</code>
<div class="block">Does the work creating a List with all the Items in the Community or
 Collection It then kicks off a new Thread to export the items, zip the
 export directory and send confirmation email</div>
</td>
</tr>
<tr id="i22" class="altColor">
<td class="colFirst"><code>protected void</code></td>
<td class="colLast"><code><span class="memberNameLink"><a href="../../../../org/dspace/app/itemexport/ItemExportServiceImpl.html#writeBitstreams-org.dspace.core.Context-org.dspace.content.Item-java.io.File-boolean-">writeBitstreams</a></span>(<a href="../../../../org/dspace/core/Context.html" title="class in org.dspace.core">Context</a>&nbsp;c,
               <a href="../../../../org/dspace/content/Item.html" title="class in org.dspace.content">Item</a>&nbsp;i,
               <a href="http://docs.oracle.com/javase/7/docs/api/java/io/File.html?is-external=true" title="class or interface in java.io">File</a>&nbsp;destDir,
               boolean&nbsp;excludeBitstreams)</code>
<div class="block">Create both the bitstreams and the contents file.</div>
</td>
</tr>
<tr id="i23" class="rowColor">
<td class="colFirst"><code>protected void</code></td>
<td class="colLast"><code><span class="memberNameLink"><a href="../../../../org/dspace/app/itemexport/ItemExportServiceImpl.html#writeHandle-org.dspace.core.Context-org.dspace.content.Item-java.io.File-">writeHandle</a></span>(<a href="../../../../org/dspace/core/Context.html" title="class in org.dspace.core">Context</a>&nbsp;c,
           <a href="../../../../org/dspace/content/Item.html" title="class in org.dspace.content">Item</a>&nbsp;i,
           <a href="http://docs.oracle.com/javase/7/docs/api/java/io/File.html?is-external=true" title="class or interface in java.io">File</a>&nbsp;destDir)</code>
<div class="block">create the file 'handle' which contains the handle assigned to the item</div>
</td>
</tr>
<tr id="i24" class="altColor">
<td class="colFirst"><code>protected void</code></td>
<td class="colLast"><code><span class="memberNameLink"><a href="../../../../org/dspace/app/itemexport/ItemExportServiceImpl.html#writeMetadata-org.dspace.core.Context-org.dspace.content.Item-java.io.File-boolean-">writeMetadata</a></span>(<a href="../../../../org/dspace/core/Context.html" title="class in org.dspace.core">Context</a>&nbsp;c,
             <a href="../../../../org/dspace/content/Item.html" title="class in org.dspace.content">Item</a>&nbsp;i,
             <a href="http://docs.oracle.com/javase/7/docs/api/java/io/File.html?is-external=true" title="class or interface in java.io">File</a>&nbsp;destDir,
             boolean&nbsp;migrate)</code>
<div class="block">Discover the different schemas in use and output a separate metadata XML
 file for each schema.</div>
</td>
</tr>
<tr id="i25" class="rowColor">
<td class="colFirst"><code>protected void</code></td>
<td class="colLast"><code><span class="memberNameLink"><a href="../../../../org/dspace/app/itemexport/ItemExportServiceImpl.html#writeMetadata-org.dspace.core.Context-java.lang.String-org.dspace.content.Item-java.io.File-boolean-">writeMetadata</a></span>(<a href="../../../../org/dspace/core/Context.html" title="class in org.dspace.core">Context</a>&nbsp;c,
             <a href="http://docs.oracle.com/javase/7/docs/api/java/lang/String.html?is-external=true" title="class or interface in java.lang">String</a>&nbsp;schema,
             <a href="../../../../org/dspace/content/Item.html" title="class in org.dspace.content">Item</a>&nbsp;i,
             <a href="http://docs.oracle.com/javase/7/docs/api/java/io/File.html?is-external=true" title="class or interface in java.io">File</a>&nbsp;destDir,
             boolean&nbsp;migrate)</code>
<div class="block">output the item's dublin core into the item directory</div>
</td>
</tr>
<tr id="i26" class="altColor">
<td class="colFirst"><code>void</code></td>
<td class="colLast"><code><span class="memberNameLink"><a href="../../../../org/dspace/app/itemexport/ItemExportServiceImpl.html#zip-java.lang.String-java.lang.String-">zip</a></span>(<a href="http://docs.oracle.com/javase/7/docs/api/java/lang/String.html?is-external=true" title="class or interface in java.lang">String</a>&nbsp;strSource,
   <a href="http://docs.oracle.com/javase/7/docs/api/java/lang/String.html?is-external=true" title="class or interface in java.lang">String</a>&nbsp;target)</code>
<div class="block">Zip source to target</div>
</td>
</tr>
<tr id="i27" class="rowColor">
<td class="colFirst"><code>protected void</code></td>
<td class="colLast"><code><span class="memberNameLink"><a href="../../../../org/dspace/app/itemexport/ItemExportServiceImpl.html#zipFiles-java.io.File-java.lang.String-java.lang.String-java.util.zip.ZipOutputStream-">zipFiles</a></span>(<a href="http://docs.oracle.com/javase/7/docs/api/java/io/File.html?is-external=true" title="class or interface in java.io">File</a>&nbsp;cpFile,
        <a href="http://docs.oracle.com/javase/7/docs/api/java/lang/String.html?is-external=true" title="class or interface in java.lang">String</a>&nbsp;strSource,
        <a href="http://docs.oracle.com/javase/7/docs/api/java/lang/String.html?is-external=true" title="class or interface in java.lang">String</a>&nbsp;strTarget,
        <a href="http://docs.oracle.com/javase/7/docs/api/java/util/zip/ZipOutputStream.html?is-external=true" title="class or interface in java.util.zip">ZipOutputStream</a>&nbsp;cpZipOutputStream)</code>&nbsp;</td>
</tr>
</table>
<ul class="blockList">
<li class="blockList"><a name="methods.inherited.from.class.java.lang.Object">
<!--   -->
</a>
<h3>Methods inherited from class&nbsp;java.lang.<a href="http://docs.oracle.com/javase/7/docs/api/java/lang/Object.html?is-external=true" title="class or interface in java.lang">Object</a></h3>
<code><a href="http://docs.oracle.com/javase/7/docs/api/java/lang/Object.html?is-external=true#clone--" title="class or interface in java.lang">clone</a>, <a href="http://docs.oracle.com/javase/7/docs/api/java/lang/Object.html?is-external=true#equals-java.lang.Object-" title="class or interface in java.lang">equals</a>, <a href="http://docs.oracle.com/javase/7/docs/api/java/lang/Object.html?is-external=true#finalize--" title="class or interface in java.lang">finalize</a>, <a href="http://docs.oracle.com/javase/7/docs/api/java/lang/Object.html?is-external=true#getClass--" title="class or interface in java.lang">getClass</a>, <a href="http://docs.oracle.com/javase/7/docs/api/java/lang/Object.html?is-external=true#hashCode--" title="class or interface in java.lang">hashCode</a>, <a href="http://docs.oracle.com/javase/7/docs/api/java/lang/Object.html?is-external=true#notify--" title="class or interface in java.lang">notify</a>, <a href="http://docs.oracle.com/javase/7/docs/api/java/lang/Object.html?is-external=true#notifyAll--" title="class or interface in java.lang">notifyAll</a>, <a href="http://docs.oracle.com/javase/7/docs/api/java/lang/Object.html?is-external=true#toString--" title="class or interface in java.lang">toString</a>, <a href="http://docs.oracle.com/javase/7/docs/api/java/lang/Object.html?is-external=true#wait--" title="class or interface in java.lang">wait</a>, <a href="http://docs.oracle.com/javase/7/docs/api/java/lang/Object.html?is-external=true#wait-long-" title="class or interface in java.lang">wait</a>, <a href="http://docs.oracle.com/javase/7/docs/api/java/lang/Object.html?is-external=true#wait-long-int-" title="class or interface in java.lang">wait</a></code></li>
</ul>
</li>
</ul>
</li>
</ul>
</div>
<div class="details">
<ul class="blockList">
<li class="blockList">
<!-- ============ FIELD DETAIL =========== -->
<ul class="blockList">
<li class="blockList"><a name="field.detail">
<!--   -->
</a>
<h3>Field Detail</h3>
<a name="SUBDIR_LIMIT">
<!--   -->
</a>
<ul class="blockList">
<li class="blockList">
<h4>SUBDIR_LIMIT</h4>
<pre>protected final&nbsp;int SUBDIR_LIMIT</pre>
<dl>
<dt><span class="seeLabel">See Also:</span></dt>
<dd><a href="../../../../constant-values.html#org.dspace.app.itemexport.ItemExportServiceImpl.SUBDIR_LIMIT">Constant Field Values</a></dd>
</dl>
</li>
</ul>
<a name="bitstreamService">
<!--   -->
</a>
<ul class="blockList">
<li class="blockList">
<h4>bitstreamService</h4>
<pre>@Autowired(required=true)
protected&nbsp;<a href="../../../../org/dspace/content/service/BitstreamService.html" title="interface in org.dspace.content.service">BitstreamService</a> bitstreamService</pre>
</li>
</ul>
<a name="communityService">
<!--   -->
</a>
<ul class="blockList">
<li class="blockList">
<h4>communityService</h4>
<pre>@Autowired(required=true)
protected&nbsp;<a href="../../../../org/dspace/content/service/CommunityService.html" title="interface in org.dspace.content.service">CommunityService</a> communityService</pre>
</li>
</ul>
<a name="ePersonService">
<!--   -->
</a>
<ul class="blockList">
<li class="blockList">
<h4>ePersonService</h4>
<pre>@Autowired(required=true)
protected&nbsp;<a href="../../../../org/dspace/eperson/service/EPersonService.html" title="interface in org.dspace.eperson.service">EPersonService</a> ePersonService</pre>
</li>
</ul>
<a name="itemService">
<!--   -->
</a>
<ul class="blockList">
<li class="blockList">
<h4>itemService</h4>
<pre>@Autowired(required=true)
protected&nbsp;<a href="../../../../org/dspace/content/service/ItemService.html" title="interface in org.dspace.content.service">ItemService</a> itemService</pre>
</li>
</ul>
<a name="handleService">
<!--   -->
</a>
<ul class="blockListLast">
<li class="blockList">
<h4>handleService</h4>
<pre>@Autowired(required=true)
protected&nbsp;<a href="../../../../org/dspace/handle/service/HandleService.html" title="interface in org.dspace.handle.service">HandleService</a> handleService</pre>
</li>
</ul>
</li>
</ul>
<!-- ========= CONSTRUCTOR DETAIL ======== -->
<ul class="blockList">
<li class="blockList"><a name="constructor.detail">
<!--   -->
</a>
<h3>Constructor Detail</h3>
<a name="ItemExportServiceImpl--">
<!--   -->
</a>
<ul class="blockListLast">
<li class="blockList">
<h4>ItemExportServiceImpl</h4>
<pre>protected&nbsp;ItemExportServiceImpl()</pre>
</li>
</ul>
</li>
</ul>
<!-- ============ METHOD DETAIL ========== -->
<ul class="blockList">
<li class="blockList"><a name="method.detail">
<!--   -->
</a>
<h3>Method Detail</h3>
<a name="exportItem-org.dspace.core.Context-java.util.Iterator-java.lang.String-int-boolean-boolean-">
<!--   -->
</a>
<ul class="blockList">
<li class="blockList">
<h4>exportItem</h4>
<pre>public&nbsp;void&nbsp;exportItem(<a href="../../../../org/dspace/core/Context.html" title="class in org.dspace.core">Context</a>&nbsp;c,
                       <a href="http://docs.oracle.com/javase/7/docs/api/java/util/Iterator.html?is-external=true" title="class or interface in java.util">Iterator</a>&lt;<a href="../../../../org/dspace/content/Item.html" title="class in org.dspace.content">Item</a>&gt;&nbsp;i,
                       <a href="http://docs.oracle.com/javase/7/docs/api/java/lang/String.html?is-external=true" title="class or interface in java.lang">String</a>&nbsp;destDirName,
                       int&nbsp;seqStart,
                       boolean&nbsp;migrate,
                       boolean&nbsp;excludeBitstreams)
                throws <a href="http://docs.oracle.com/javase/7/docs/api/java/lang/Exception.html?is-external=true" title="class or interface in java.lang">Exception</a></pre>
<dl>
<dt><span class="overrideSpecifyLabel">Specified by:</span></dt>
<dd><code><a href="../../../../org/dspace/app/itemexport/service/ItemExportService.html#exportItem-org.dspace.core.Context-java.util.Iterator-java.lang.String-int-boolean-boolean-">exportItem</a></code>&nbsp;in interface&nbsp;<code><a href="../../../../org/dspace/app/itemexport/service/ItemExportService.html" title="interface in org.dspace.app.itemexport.service">ItemExportService</a></code></dd>
<dt><span class="throwsLabel">Throws:</span></dt>
<dd><code><a href="http://docs.oracle.com/javase/7/docs/api/java/lang/Exception.html?is-external=true" title="class or interface in java.lang">Exception</a></code></dd>
</dl>
</li>
</ul>
<a name="exportItem-org.dspace.core.Context-org.dspace.content.Item-java.lang.String-int-boolean-boolean-">
<!--   -->
</a>
<ul class="blockList">
<li class="blockList">
<h4>exportItem</h4>
<pre>protected&nbsp;void&nbsp;exportItem(<a href="../../../../org/dspace/core/Context.html" title="class in org.dspace.core">Context</a>&nbsp;c,
                          <a href="../../../../org/dspace/content/Item.html" title="class in org.dspace.content">Item</a>&nbsp;myItem,
                          <a href="http://docs.oracle.com/javase/7/docs/api/java/lang/String.html?is-external=true" title="class or interface in java.lang">String</a>&nbsp;destDirName,
                          int&nbsp;seqStart,
                          boolean&nbsp;migrate,
                          boolean&nbsp;excludeBitstreams)
                   throws <a href="http://docs.oracle.com/javase/7/docs/api/java/lang/Exception.html?is-external=true" title="class or interface in java.lang">Exception</a></pre>
<dl>
<dt><span class="throwsLabel">Throws:</span></dt>
<dd><code><a href="http://docs.oracle.com/javase/7/docs/api/java/lang/Exception.html?is-external=true" title="class or interface in java.lang">Exception</a></code></dd>
</dl>
</li>
</ul>
<a name="writeMetadata-org.dspace.core.Context-org.dspace.content.Item-java.io.File-boolean-">
<!--   -->
</a>
<ul class="blockList">
<li class="blockList">
<h4>writeMetadata</h4>
<pre>protected&nbsp;void&nbsp;writeMetadata(<a href="../../../../org/dspace/core/Context.html" title="class in org.dspace.core">Context</a>&nbsp;c,
                             <a href="../../../../org/dspace/content/Item.html" title="class in org.dspace.content">Item</a>&nbsp;i,
                             <a href="http://docs.oracle.com/javase/7/docs/api/java/io/File.html?is-external=true" title="class or interface in java.io">File</a>&nbsp;destDir,
                             boolean&nbsp;migrate)
                      throws <a href="http://docs.oracle.com/javase/7/docs/api/java/lang/Exception.html?is-external=true" title="class or interface in java.lang">Exception</a></pre>
<div class="block">Discover the different schemas in use and output a separate metadata XML
 file for each schema.</div>
<dl>
<dt><span class="paramLabel">Parameters:</span></dt>
<dd><code>c</code> - DSpace context</dd>
<dd><code>i</code> - DSpace Item</dd>
<dd><code>destDir</code> - destination directory</dd>
<dd><code>migrate</code> - Whether to use the migrate option or not</dd>
<dt><span class="throwsLabel">Throws:</span></dt>
<dd><code><a href="http://docs.oracle.com/javase/7/docs/api/java/lang/Exception.html?is-external=true" title="class or interface in java.lang">Exception</a></code> - if error</dd>
</dl>
</li>
</ul>
<a name="writeMetadata-org.dspace.core.Context-java.lang.String-org.dspace.content.Item-java.io.File-boolean-">
<!--   -->
</a>
<ul class="blockList">
<li class="blockList">
<h4>writeMetadata</h4>
<pre>protected&nbsp;void&nbsp;writeMetadata(<a href="../../../../org/dspace/core/Context.html" title="class in org.dspace.core">Context</a>&nbsp;c,
                             <a href="http://docs.oracle.com/javase/7/docs/api/java/lang/String.html?is-external=true" title="class or interface in java.lang">String</a>&nbsp;schema,
                             <a href="../../../../org/dspace/content/Item.html" title="class in org.dspace.content">Item</a>&nbsp;i,
                             <a href="http://docs.oracle.com/javase/7/docs/api/java/io/File.html?is-external=true" title="class or interface in java.io">File</a>&nbsp;destDir,
                             boolean&nbsp;migrate)
                      throws <a href="http://docs.oracle.com/javase/7/docs/api/java/lang/Exception.html?is-external=true" title="class or interface in java.lang">Exception</a></pre>
<div class="block">output the item's dublin core into the item directory</div>
<dl>
<dt><span class="paramLabel">Parameters:</span></dt>
<dd><code>c</code> - DSpace context</dd>
<dd><code>schema</code> - schema</dd>
<dd><code>i</code> - DSpace Item</dd>
<dd><code>destDir</code> - destination directory</dd>
<dd><code>migrate</code> - Whether to use the migrate option or not</dd>
<dt><span class="throwsLabel">Throws:</span></dt>
<dd><code><a href="http://docs.oracle.com/javase/7/docs/api/java/lang/Exception.html?is-external=true" title="class or interface in java.lang">Exception</a></code> - if error</dd>
</dl>
</li>
</ul>
<a name="writeHandle-org.dspace.core.Context-org.dspace.content.Item-java.io.File-">
<!--   -->
</a>
<ul class="blockList">
<li class="blockList">
<h4>writeHandle</h4>
<pre>protected&nbsp;void&nbsp;writeHandle(<a href="../../../../org/dspace/core/Context.html" title="class in org.dspace.core">Context</a>&nbsp;c,
                           <a href="../../../../org/dspace/content/Item.html" title="class in org.dspace.content">Item</a>&nbsp;i,
                           <a href="http://docs.oracle.com/javase/7/docs/api/java/io/File.html?is-external=true" title="class or interface in java.io">File</a>&nbsp;destDir)
                    throws <a href="http://docs.oracle.com/javase/7/docs/api/java/lang/Exception.html?is-external=true" title="class or interface in java.lang">Exception</a></pre>
<div class="block">create the file 'handle' which contains the handle assigned to the item</div>
<dl>
<dt><span class="paramLabel">Parameters:</span></dt>
<dd><code>c</code> - DSpace Context</dd>
<dd><code>i</code> - DSpace Item</dd>
<dd><code>destDir</code> - destination directory</dd>
<dt><span class="throwsLabel">Throws:</span></dt>
<dd><code><a href="http://docs.oracle.com/javase/7/docs/api/java/lang/Exception.html?is-external=true" title="class or interface in java.lang">Exception</a></code> - if error</dd>
</dl>
</li>
</ul>
<a name="writeBitstreams-org.dspace.core.Context-org.dspace.content.Item-java.io.File-boolean-">
<!--   -->
</a>
<ul class="blockList">
<li class="blockList">
<h4>writeBitstreams</h4>
<pre>protected&nbsp;void&nbsp;writeBitstreams(<a href="../../../../org/dspace/core/Context.html" title="class in org.dspace.core">Context</a>&nbsp;c,
                               <a href="../../../../org/dspace/content/Item.html" title="class in org.dspace.content">Item</a>&nbsp;i,
                               <a href="http://docs.oracle.com/javase/7/docs/api/java/io/File.html?is-external=true" title="class or interface in java.io">File</a>&nbsp;destDir,
                               boolean&nbsp;excludeBitstreams)
                        throws <a href="http://docs.oracle.com/javase/7/docs/api/java/lang/Exception.html?is-external=true" title="class or interface in java.lang">Exception</a></pre>
<div class="block">Create both the bitstreams and the contents file. Any bitstreams that
 were originally registered will be marked in the contents file as such.
 However, the export directory will contain actual copies of the content
 files being exported.</div>
<dl>
<dt><span class="paramLabel">Parameters:</span></dt>
<dd><code>c</code> - the DSpace context</dd>
<dd><code>i</code> - the item being exported</dd>
<dd><code>destDir</code> - the item's export directory</dd>
<dd><code>excludeBitstreams</code> - whether to exclude bitstreams</dd>
<dt><span class="throwsLabel">Throws:</span></dt>
<dd><code><a href="http://docs.oracle.com/javase/7/docs/api/java/lang/Exception.html?is-external=true" title="class or interface in java.lang">Exception</a></code> - if error
             if there is any problem writing to the export directory</dd>
</dl>
</li>
</ul>
<a name="exportAsZip-org.dspace.core.Context-java.util.Iterator-java.lang.String-java.lang.String-int-boolean-boolean-">
<!--   -->
</a>
<ul class="blockList">
<li class="blockList">
<h4>exportAsZip</h4>
<pre>public&nbsp;void&nbsp;exportAsZip(<a href="../../../../org/dspace/core/Context.html" title="class in org.dspace.core">Context</a>&nbsp;context,
                        <a href="http://docs.oracle.com/javase/7/docs/api/java/util/Iterator.html?is-external=true" title="class or interface in java.util">Iterator</a>&lt;<a href="../../../../org/dspace/content/Item.html" title="class in org.dspace.content">Item</a>&gt;&nbsp;items,
                        <a href="http://docs.oracle.com/javase/7/docs/api/java/lang/String.html?is-external=true" title="class or interface in java.lang">String</a>&nbsp;destDirName,
                        <a href="http://docs.oracle.com/javase/7/docs/api/java/lang/String.html?is-external=true" title="class or interface in java.lang">String</a>&nbsp;zipFileName,
                        int&nbsp;seqStart,
                        boolean&nbsp;migrate,
                        boolean&nbsp;excludeBitstreams)
                 throws <a href="http://docs.oracle.com/javase/7/docs/api/java/lang/Exception.html?is-external=true" title="class or interface in java.lang">Exception</a></pre>
<div class="block"><span class="descfrmTypeLabel">Description copied from interface:&nbsp;<code><a href="../../../../org/dspace/app/itemexport/service/ItemExportService.html#exportAsZip-org.dspace.core.Context-java.util.Iterator-java.lang.String-java.lang.String-int-boolean-boolean-">ItemExportService</a></code></span></div>
<div class="block">Method to perform an export and save it as a zip file.</div>
<dl>
<dt><span class="overrideSpecifyLabel">Specified by:</span></dt>
<dd><code><a href="../../../../org/dspace/app/itemexport/service/ItemExportService.html#exportAsZip-org.dspace.core.Context-java.util.Iterator-java.lang.String-java.lang.String-int-boolean-boolean-">exportAsZip</a></code>&nbsp;in interface&nbsp;<code><a href="../../../../org/dspace/app/itemexport/service/ItemExportService.html" title="interface in org.dspace.app.itemexport.service">ItemExportService</a></code></dd>
<dt><span class="paramLabel">Parameters:</span></dt>
<dd><code>context</code> - The DSpace Context</dd>
<dd><code>items</code> - The items to export</dd>
<dd><code>destDirName</code> - The directory to save the export in</dd>
<dd><code>zipFileName</code> - The name to save the zip file as</dd>
<dd><code>seqStart</code> - The first number in the sequence</dd>
<dd><code>migrate</code> - Whether to use the migrate option or not</dd>
<dd><code>excludeBitstreams</code> - Whether to exclude bitstreams or not</dd>
<dt><span class="throwsLabel">Throws:</span></dt>
<dd><code><a href="http://docs.oracle.com/javase/7/docs/api/java/lang/Exception.html?is-external=true" title="class or interface in java.lang">Exception</a></code> - if error</dd>
</dl>
</li>
</ul>
<a name="createDownloadableExport-org.dspace.content.DSpaceObject-org.dspace.core.Context-boolean-">
<!--   -->
</a>
<ul class="blockList">
<li class="blockList">
<h4>createDownloadableExport</h4>
<pre>public&nbsp;void&nbsp;createDownloadableExport(<a href="../../../../org/dspace/content/DSpaceObject.html" title="class in org.dspace.content">DSpaceObject</a>&nbsp;dso,
                                     <a href="../../../../org/dspace/core/Context.html" title="class in org.dspace.core">Context</a>&nbsp;context,
                                     boolean&nbsp;migrate)
                              throws <a href="http://docs.oracle.com/javase/7/docs/api/java/lang/Exception.html?is-external=true" title="class or interface in java.lang">Exception</a></pre>
<div class="block"><span class="descfrmTypeLabel">Description copied from interface:&nbsp;<code><a href="../../../../org/dspace/app/itemexport/service/ItemExportService.html#createDownloadableExport-org.dspace.content.DSpaceObject-org.dspace.core.Context-boolean-">ItemExportService</a></code></span></div>
<div class="block">Convenience methot to create export a single Community, Collection, or
 Item</div>
<dl>
<dt><span class="overrideSpecifyLabel">Specified by:</span></dt>
<dd><code><a href="../../../../org/dspace/app/itemexport/service/ItemExportService.html#createDownloadableExport-org.dspace.content.DSpaceObject-org.dspace.core.Context-boolean-">createDownloadableExport</a></code>&nbsp;in interface&nbsp;<code><a href="../../../../org/dspace/app/itemexport/service/ItemExportService.html" title="interface in org.dspace.app.itemexport.service">ItemExportService</a></code></dd>
<dt><span class="paramLabel">Parameters:</span></dt>
<dd><code>dso</code> - - the dspace object to export</dd>
<dd><code>context</code> - - the dspace context</dd>
<dd><code>migrate</code> - Whether to use the migrate option or not</dd>
<dt><span class="throwsLabel">Throws:</span></dt>
<dd><code><a href="http://docs.oracle.com/javase/7/docs/api/java/lang/Exception.html?is-external=true" title="class or interface in java.lang">Exception</a></code> - if error</dd>
</dl>
</li>
</ul>
<a name="createDownloadableExport-java.util.List-org.dspace.core.Context-boolean-">
<!--   -->
</a>
<ul class="blockList">
<li class="blockList">
<h4>createDownloadableExport</h4>
<pre>public&nbsp;void&nbsp;createDownloadableExport(<a href="http://docs.oracle.com/javase/7/docs/api/java/util/List.html?is-external=true" title="class or interface in java.util">List</a>&lt;<a href="../../../../org/dspace/content/DSpaceObject.html" title="class in org.dspace.content">DSpaceObject</a>&gt;&nbsp;dsObjects,
                                     <a href="../../../../org/dspace/core/Context.html" title="class in org.dspace.core">Context</a>&nbsp;context,
                                     boolean&nbsp;migrate)
                              throws <a href="http://docs.oracle.com/javase/7/docs/api/java/lang/Exception.html?is-external=true" title="class or interface in java.lang">Exception</a></pre>
<div class="block"><span class="descfrmTypeLabel">Description copied from interface:&nbsp;<code><a href="../../../../org/dspace/app/itemexport/service/ItemExportService.html#createDownloadableExport-java.util.List-org.dspace.core.Context-boolean-">ItemExportService</a></code></span></div>
<div class="block">Convenience method to export a List of dspace objects (Community,
 Collection or Item)</div>
<dl>
<dt><span class="overrideSpecifyLabel">Specified by:</span></dt>
<dd><code><a href="../../../../org/dspace/app/itemexport/service/ItemExportService.html#createDownloadableExport-java.util.List-org.dspace.core.Context-boolean-">createDownloadableExport</a></code>&nbsp;in interface&nbsp;<code><a href="../../../../org/dspace/app/itemexport/service/ItemExportService.html" title="interface in org.dspace.app.itemexport.service">ItemExportService</a></code></dd>
<dt><span class="paramLabel">Parameters:</span></dt>
<dd><code>dsObjects</code> - - List containing dspace objects</dd>
<dd><code>context</code> - - the dspace context</dd>
<dd><code>migrate</code> - Whether to use the migrate option or not</dd>
<dt><span class="throwsLabel">Throws:</span></dt>
<dd><code><a href="http://docs.oracle.com/javase/7/docs/api/java/lang/Exception.html?is-external=true" title="class or interface in java.lang">Exception</a></code> - if error</dd>
</dl>
</li>
</ul>
<a name="createDownloadableExport-org.dspace.content.DSpaceObject-org.dspace.core.Context-java.lang.String-boolean-">
<!--   -->
</a>
<ul class="blockList">
<li class="blockList">
<h4>createDownloadableExport</h4>
<pre>public&nbsp;void&nbsp;createDownloadableExport(<a href="../../../../org/dspace/content/DSpaceObject.html" title="class in org.dspace.content">DSpaceObject</a>&nbsp;dso,
                                     <a href="../../../../org/dspace/core/Context.html" title="class in org.dspace.core">Context</a>&nbsp;context,
                                     <a href="http://docs.oracle.com/javase/7/docs/api/java/lang/String.html?is-external=true" title="class or interface in java.lang">String</a>&nbsp;additionalEmail,
                                     boolean&nbsp;migrate)
                              throws <a href="http://docs.oracle.com/javase/7/docs/api/java/lang/Exception.html?is-external=true" title="class or interface in java.lang">Exception</a></pre>
<div class="block"><span class="descfrmTypeLabel">Description copied from interface:&nbsp;<code><a href="../../../../org/dspace/app/itemexport/service/ItemExportService.html#createDownloadableExport-org.dspace.content.DSpaceObject-org.dspace.core.Context-java.lang.String-boolean-">ItemExportService</a></code></span></div>
<div class="block">Convenience methot to create export a single Community, Collection, or
 Item</div>
<dl>
<dt><span class="overrideSpecifyLabel">Specified by:</span></dt>
<dd><code><a href="../../../../org/dspace/app/itemexport/service/ItemExportService.html#createDownloadableExport-org.dspace.content.DSpaceObject-org.dspace.core.Context-java.lang.String-boolean-">createDownloadableExport</a></code>&nbsp;in interface&nbsp;<code><a href="../../../../org/dspace/app/itemexport/service/ItemExportService.html" title="interface in org.dspace.app.itemexport.service">ItemExportService</a></code></dd>
<dt><span class="paramLabel">Parameters:</span></dt>
<dd><code>dso</code> - - the dspace object to export</dd>
<dd><code>context</code> - - the dspace context</dd>
<dd><code>additionalEmail</code> - - cc email to use</dd>
<dd><code>migrate</code> - Whether to use the migrate option or not</dd>
<dt><span class="throwsLabel">Throws:</span></dt>
<dd><code><a href="http://docs.oracle.com/javase/7/docs/api/java/lang/Exception.html?is-external=true" title="class or interface in java.lang">Exception</a></code> - if error</dd>
</dl>
</li>
</ul>
<a name="createDownloadableExport-java.util.List-org.dspace.core.Context-java.lang.String-boolean-">
<!--   -->
</a>
<ul class="blockList">
<li class="blockList">
<h4>createDownloadableExport</h4>
<pre>public&nbsp;void&nbsp;createDownloadableExport(<a href="http://docs.oracle.com/javase/7/docs/api/java/util/List.html?is-external=true" title="class or interface in java.util">List</a>&lt;<a href="../../../../org/dspace/content/DSpaceObject.html" title="class in org.dspace.content">DSpaceObject</a>&gt;&nbsp;dsObjects,
                                     <a href="../../../../org/dspace/core/Context.html" title="class in org.dspace.core">Context</a>&nbsp;context,
                                     <a href="http://docs.oracle.com/javase/7/docs/api/java/lang/String.html?is-external=true" title="class or interface in java.lang">String</a>&nbsp;additionalEmail,
                                     boolean&nbsp;migrate)
                              throws <a href="http://docs.oracle.com/javase/7/docs/api/java/lang/Exception.html?is-external=true" title="class or interface in java.lang">Exception</a></pre>
<div class="block"><span class="descfrmTypeLabel">Description copied from interface:&nbsp;<code><a href="../../../../org/dspace/app/itemexport/service/ItemExportService.html#createDownloadableExport-java.util.List-org.dspace.core.Context-java.lang.String-boolean-">ItemExportService</a></code></span></div>
<div class="block">Convenience method to export a List of dspace objects (Community,
 Collection or Item)</div>
<dl>
<dt><span class="overrideSpecifyLabel">Specified by:</span></dt>
<dd><code><a href="../../../../org/dspace/app/itemexport/service/ItemExportService.html#createDownloadableExport-java.util.List-org.dspace.core.Context-java.lang.String-boolean-">createDownloadableExport</a></code>&nbsp;in interface&nbsp;<code><a href="../../../../org/dspace/app/itemexport/service/ItemExportService.html" title="interface in org.dspace.app.itemexport.service">ItemExportService</a></code></dd>
<dt><span class="paramLabel">Parameters:</span></dt>
<dd><code>dsObjects</code> - - List containing dspace objects</dd>
<dd><code>context</code> - - the dspace context</dd>
<dd><code>additionalEmail</code> - - cc email to use</dd>
<dd><code>migrate</code> - Whether to use the migrate option or not</dd>
<dt><span class="throwsLabel">Throws:</span></dt>
<dd><code><a href="http://docs.oracle.com/javase/7/docs/api/java/lang/Exception.html?is-external=true" title="class or interface in java.lang">Exception</a></code> - if error</dd>
</dl>
</li>
</ul>
<a name="processDownloadableExport-java.util.List-org.dspace.core.Context-java.lang.String-boolean-">
<!--   -->
</a>
<ul class="blockList">
<li class="blockList">
<h4>processDownloadableExport</h4>
<pre>protected&nbsp;void&nbsp;processDownloadableExport(<a href="http://docs.oracle.com/javase/7/docs/api/java/util/List.html?is-external=true" title="class or interface in java.util">List</a>&lt;<a href="../../../../org/dspace/content/DSpaceObject.html" title="class in org.dspace.content">DSpaceObject</a>&gt;&nbsp;dsObjects,
                                         <a href="../../../../org/dspace/core/Context.html" title="class in org.dspace.core">Context</a>&nbsp;context,
                                         <a href="http://docs.oracle.com/javase/7/docs/api/java/lang/String.html?is-external=true" title="class or interface in java.lang">String</a>&nbsp;additionalEmail,
                                         boolean&nbsp;toMigrate)
                                  throws <a href="http://docs.oracle.com/javase/7/docs/api/java/lang/Exception.html?is-external=true" title="class or interface in java.lang">Exception</a></pre>
<div class="block">Does the work creating a List with all the Items in the Community or
 Collection It then kicks off a new Thread to export the items, zip the
 export directory and send confirmation email</div>
<dl>
<dt><span class="paramLabel">Parameters:</span></dt>
<dd><code>dsObjects</code> - - List of dspace objects to process</dd>
<dd><code>context</code> - - the dspace context</dd>
<dd><code>additionalEmail</code> - - email address to cc in addition the the current user email</dd>
<dd><code>toMigrate</code> - Whether to use the migrate option or not</dd>
<dt><span class="throwsLabel">Throws:</span></dt>
<dd><code><a href="http://docs.oracle.com/javase/7/docs/api/java/lang/Exception.html?is-external=true" title="class or interface in java.lang">Exception</a></code> - if error</dd>
</dl>
</li>
</ul>
<a name="assembleFileName-java.lang.String-org.dspace.eperson.EPerson-java.util.Date-">
<!--   -->
</a>
<ul class="blockList">
<li class="blockList">
<h4>assembleFileName</h4>
<pre>public&nbsp;<a href="http://docs.oracle.com/javase/7/docs/api/java/lang/String.html?is-external=true" title="class or interface in java.lang">String</a>&nbsp;assembleFileName(<a href="http://docs.oracle.com/javase/7/docs/api/java/lang/String.html?is-external=true" title="class or interface in java.lang">String</a>&nbsp;type,
                               <a href="../../../../org/dspace/eperson/EPerson.html" title="class in org.dspace.eperson">EPerson</a>&nbsp;eperson,
                               <a href="http://docs.oracle.com/javase/7/docs/api/java/util/Date.html?is-external=true" title="class or interface in java.util">Date</a>&nbsp;date)
                        throws <a href="http://docs.oracle.com/javase/7/docs/api/java/lang/Exception.html?is-external=true" title="class or interface in java.lang">Exception</a></pre>
<div class="block"><span class="descfrmTypeLabel">Description copied from interface:&nbsp;<code><a href="../../../../org/dspace/app/itemexport/service/ItemExportService.html#assembleFileName-java.lang.String-org.dspace.eperson.EPerson-java.util.Date-">ItemExportService</a></code></span></div>
<div class="block">Create a file name based on the date and eperson</div>
<dl>
<dt><span class="overrideSpecifyLabel">Specified by:</span></dt>
<dd><code><a href="../../../../org/dspace/app/itemexport/service/ItemExportService.html#assembleFileName-java.lang.String-org.dspace.eperson.EPerson-java.util.Date-">assembleFileName</a></code>&nbsp;in interface&nbsp;<code><a href="../../../../org/dspace/app/itemexport/service/ItemExportService.html" title="interface in org.dspace.app.itemexport.service">ItemExportService</a></code></dd>
<dt><span class="paramLabel">Parameters:</span></dt>
<dd><code>type</code> - Type of object (as string)</dd>
<dd><code>eperson</code> - - eperson who requested export and will be able to download it</dd>
<dd><code>date</code> - - the date the export process was created</dd>
<dt><span class="returnLabel">Returns:</span></dt>
<dd>String representing the file name in the form of
         'export_yyy_MMM_dd_count_epersonID'</dd>
<dt><span class="throwsLabel">Throws:</span></dt>
<dd><code><a href="http://docs.oracle.com/javase/7/docs/api/java/lang/Exception.html?is-external=true" title="class or interface in java.lang">Exception</a></code> - if error</dd>
</dl>
</li>
</ul>
<a name="getExportDownloadDirectory-org.dspace.eperson.EPerson-">
<!--   -->
</a>
<ul class="blockList">
<li class="blockList">
<h4>getExportDownloadDirectory</h4>
<pre>public&nbsp;<a href="http://docs.oracle.com/javase/7/docs/api/java/lang/String.html?is-external=true" title="class or interface in java.lang">String</a>&nbsp;getExportDownloadDirectory(<a href="../../../../org/dspace/eperson/EPerson.html" title="class in org.dspace.eperson">EPerson</a>&nbsp;ePerson)
                                  throws <a href="http://docs.oracle.com/javase/7/docs/api/java/lang/Exception.html?is-external=true" title="class or interface in java.lang">Exception</a></pre>
<div class="block"><span class="descfrmTypeLabel">Description copied from interface:&nbsp;<code><a href="../../../../org/dspace/app/itemexport/service/ItemExportService.html#getExportDownloadDirectory-org.dspace.eperson.EPerson-">ItemExportService</a></code></span></div>
<div class="block">Use config file entry for org.dspace.app.itemexport.download.dir and id
 of the eperson to create a download directory name</div>
<dl>
<dt><span class="overrideSpecifyLabel">Specified by:</span></dt>
<dd><code><a href="../../../../org/dspace/app/itemexport/service/ItemExportService.html#getExportDownloadDirectory-org.dspace.eperson.EPerson-">getExportDownloadDirectory</a></code>&nbsp;in interface&nbsp;<code><a href="../../../../org/dspace/app/itemexport/service/ItemExportService.html" title="interface in org.dspace.app.itemexport.service">ItemExportService</a></code></dd>
<dt><span class="paramLabel">Parameters:</span></dt>
<dd><code>ePerson</code> - - the eperson who requested export archive</dd>
<dt><span class="returnLabel">Returns:</span></dt>
<dd>String representing a directory in the form of
         org.dspace.app.itemexport.download.dir/epersonID</dd>
<dt><span class="throwsLabel">Throws:</span></dt>
<dd><code><a href="http://docs.oracle.com/javase/7/docs/api/java/lang/Exception.html?is-external=true" title="class or interface in java.lang">Exception</a></code> - if error</dd>
</dl>
</li>
</ul>
<a name="getExportWorkDirectory--">
<!--   -->
</a>
<ul class="blockList">
<li class="blockList">
<h4>getExportWorkDirectory</h4>
<pre>public&nbsp;<a href="http://docs.oracle.com/javase/7/docs/api/java/lang/String.html?is-external=true" title="class or interface in java.lang">String</a>&nbsp;getExportWorkDirectory()
                              throws <a href="http://docs.oracle.com/javase/7/docs/api/java/lang/Exception.html?is-external=true" title="class or interface in java.lang">Exception</a></pre>
<div class="block"><span class="descfrmTypeLabel">Description copied from interface:&nbsp;<code><a href="../../../../org/dspace/app/itemexport/service/ItemExportService.html#getExportWorkDirectory--">ItemExportService</a></code></span></div>
<div class="block">Returns config file entry for org.dspace.app.itemexport.work.dir</div>
<dl>
<dt><span class="overrideSpecifyLabel">Specified by:</span></dt>
<dd><code><a href="../../../../org/dspace/app/itemexport/service/ItemExportService.html#getExportWorkDirectory--">getExportWorkDirectory</a></code>&nbsp;in interface&nbsp;<code><a href="../../../../org/dspace/app/itemexport/service/ItemExportService.html" title="interface in org.dspace.app.itemexport.service">ItemExportService</a></code></dd>
<dt><span class="returnLabel">Returns:</span></dt>
<dd>String representing config file entry for
         org.dspace.app.itemexport.work.dir</dd>
<dt><span class="throwsLabel">Throws:</span></dt>
<dd><code><a href="http://docs.oracle.com/javase/7/docs/api/java/lang/Exception.html?is-external=true" title="class or interface in java.lang">Exception</a></code> - if error</dd>
</dl>
</li>
</ul>
<a name="getExportDownloadInputStream-java.lang.String-org.dspace.eperson.EPerson-">
<!--   -->
</a>
<ul class="blockList">
<li class="blockList">
<h4>getExportDownloadInputStream</h4>
<pre>public&nbsp;<a href="http://docs.oracle.com/javase/7/docs/api/java/io/InputStream.html?is-external=true" title="class or interface in java.io">InputStream</a>&nbsp;getExportDownloadInputStream(<a href="http://docs.oracle.com/javase/7/docs/api/java/lang/String.html?is-external=true" title="class or interface in java.lang">String</a>&nbsp;fileName,
                                                <a href="../../../../org/dspace/eperson/EPerson.html" title="class in org.dspace.eperson">EPerson</a>&nbsp;eperson)
                                         throws <a href="http://docs.oracle.com/javase/7/docs/api/java/lang/Exception.html?is-external=true" title="class or interface in java.lang">Exception</a></pre>
<div class="block"><span class="descfrmTypeLabel">Description copied from interface:&nbsp;<code><a href="../../../../org/dspace/app/itemexport/service/ItemExportService.html#getExportDownloadInputStream-java.lang.String-org.dspace.eperson.EPerson-">ItemExportService</a></code></span></div>
<div class="block">Used to read the export archived. Inteded for download.</div>
<dl>
<dt><span class="overrideSpecifyLabel">Specified by:</span></dt>
<dd><code><a href="../../../../org/dspace/app/itemexport/service/ItemExportService.html#getExportDownloadInputStream-java.lang.String-org.dspace.eperson.EPerson-">getExportDownloadInputStream</a></code>&nbsp;in interface&nbsp;<code><a href="../../../../org/dspace/app/itemexport/service/ItemExportService.html" title="interface in org.dspace.app.itemexport.service">ItemExportService</a></code></dd>
<dt><span class="paramLabel">Parameters:</span></dt>
<dd><code>fileName</code> - the name of the file to download</dd>
<dd><code>eperson</code> - the eperson requesting the download</dd>
<dt><span class="returnLabel">Returns:</span></dt>
<dd>an input stream of the file to be downloaded</dd>
<dt><span class="throwsLabel">Throws:</span></dt>
<dd><code><a href="http://docs.oracle.com/javase/7/docs/api/java/lang/Exception.html?is-external=true" title="class or interface in java.lang">Exception</a></code> - if error</dd>
</dl>
</li>
</ul>
<a name="getExportFileSize-org.dspace.core.Context-java.lang.String-">
<!--   -->
</a>
<ul class="blockList">
<li class="blockList">
<h4>getExportFileSize</h4>
<pre>public&nbsp;long&nbsp;getExportFileSize(<a href="../../../../org/dspace/core/Context.html" title="class in org.dspace.core">Context</a>&nbsp;context,
                              <a href="http://docs.oracle.com/javase/7/docs/api/java/lang/String.html?is-external=true" title="class or interface in java.lang">String</a>&nbsp;fileName)
                       throws <a href="http://docs.oracle.com/javase/7/docs/api/java/lang/Exception.html?is-external=true" title="class or interface in java.lang">Exception</a></pre>
<div class="block"><span class="descfrmTypeLabel">Description copied from interface:&nbsp;<code><a href="../../../../org/dspace/app/itemexport/service/ItemExportService.html#getExportFileSize-org.dspace.core.Context-java.lang.String-">ItemExportService</a></code></span></div>
<div class="block">Get the file size of the export archive represented by the file name.</div>
<dl>
<dt><span class="overrideSpecifyLabel">Specified by:</span></dt>
<dd><code><a href="../../../../org/dspace/app/itemexport/service/ItemExportService.html#getExportFileSize-org.dspace.core.Context-java.lang.String-">getExportFileSize</a></code>&nbsp;in interface&nbsp;<code><a href="../../../../org/dspace/app/itemexport/service/ItemExportService.html" title="interface in org.dspace.app.itemexport.service">ItemExportService</a></code></dd>
<dt><span class="paramLabel">Parameters:</span></dt>
<dd><code>context</code> - DSpace context</dd>
<dd><code>fileName</code> - name of the file to get the size.</dd>
<dt><span class="returnLabel">Returns:</span></dt>
<dd>size as long</dd>
<dt><span class="throwsLabel">Throws:</span></dt>
<dd><code><a href="http://docs.oracle.com/javase/7/docs/api/java/lang/Exception.html?is-external=true" title="class or interface in java.lang">Exception</a></code> - if error</dd>
</dl>
</li>
</ul>
<a name="getEPersonFromString-org.dspace.core.Context-java.lang.String-">
<!--   -->
</a>
<ul class="blockList">
<li class="blockList">
<h4>getEPersonFromString</h4>
<pre>protected&nbsp;<a href="../../../../org/dspace/eperson/EPerson.html" title="class in org.dspace.eperson">EPerson</a>&nbsp;getEPersonFromString(<a href="../../../../org/dspace/core/Context.html" title="class in org.dspace.core">Context</a>&nbsp;context,
                                       <a href="http://docs.oracle.com/javase/7/docs/api/java/lang/String.html?is-external=true" title="class or interface in java.lang">String</a>&nbsp;strID)
                                throws <a href="http://docs.oracle.com/javase/7/docs/api/java/sql/SQLException.html?is-external=true" title="class or interface in java.sql">SQLException</a></pre>
<div class="block">Attempt to find an EPerson based on string ID</div>
<dl>
<dt><span class="paramLabel">Parameters:</span></dt>
<dd><code>context</code> - DSpace context</dd>
<dd><code>strID</code> - string identifier</dd>
<dt><span class="returnLabel">Returns:</span></dt>
<dd>EPerson object (if found)</dd>
<dt><span class="throwsLabel">Throws:</span></dt>
<dd><code><a href="http://docs.oracle.com/javase/7/docs/api/java/sql/SQLException.html?is-external=true" title="class or interface in java.sql">SQLException</a></code> - if database error</dd>
</dl>
</li>
</ul>
<a name="getExportFileLastModified-org.dspace.core.Context-java.lang.String-">
<!--   -->
</a>
<ul class="blockList">
<li class="blockList">
<h4>getExportFileLastModified</h4>
<pre>public&nbsp;long&nbsp;getExportFileLastModified(<a href="../../../../org/dspace/core/Context.html" title="class in org.dspace.core">Context</a>&nbsp;context,
                                      <a href="http://docs.oracle.com/javase/7/docs/api/java/lang/String.html?is-external=true" title="class or interface in java.lang">String</a>&nbsp;fileName)
                               throws <a href="http://docs.oracle.com/javase/7/docs/api/java/lang/Exception.html?is-external=true" title="class or interface in java.lang">Exception</a></pre>
<div class="block"><span class="descfrmTypeLabel">Description copied from interface:&nbsp;<code><a href="../../../../org/dspace/app/itemexport/service/ItemExportService.html#getExportFileLastModified-org.dspace.core.Context-java.lang.String-">ItemExportService</a></code></span></div>
<div class="block">Get the last modified date of the export archive represented by the file name.</div>
<dl>
<dt><span class="overrideSpecifyLabel">Specified by:</span></dt>
<dd><code><a href="../../../../org/dspace/app/itemexport/service/ItemExportService.html#getExportFileLastModified-org.dspace.core.Context-java.lang.String-">getExportFileLastModified</a></code>&nbsp;in interface&nbsp;<code><a href="../../../../org/dspace/app/itemexport/service/ItemExportService.html" title="interface in org.dspace.app.itemexport.service">ItemExportService</a></code></dd>
<dt><span class="paramLabel">Parameters:</span></dt>
<dd><code>context</code> - DSpace context</dd>
<dd><code>fileName</code> - name of the file to get the size.</dd>
<dt><span class="returnLabel">Returns:</span></dt>
<dd>date as long</dd>
<dt><span class="throwsLabel">Throws:</span></dt>
<dd><code><a href="http://docs.oracle.com/javase/7/docs/api/java/lang/Exception.html?is-external=true" title="class or interface in java.lang">Exception</a></code> - if error</dd>
<dt><span class="seeLabel">See Also:</span></dt>
<dd><a href="http://docs.oracle.com/javase/7/docs/api/java/io/File.html?is-external=true#lastModified--" title="class or interface in java.io"><code>File.lastModified()</code></a></dd>
</dl>
</li>
</ul>
<a name="canDownload-org.dspace.core.Context-java.lang.String-">
<!--   -->
</a>
<ul class="blockList">
<li class="blockList">
<h4>canDownload</h4>
<pre>public&nbsp;boolean&nbsp;canDownload(<a href="../../../../org/dspace/core/Context.html" title="class in org.dspace.core">Context</a>&nbsp;context,
                           <a href="http://docs.oracle.com/javase/7/docs/api/java/lang/String.html?is-external=true" title="class or interface in java.lang">String</a>&nbsp;fileName)</pre>
<div class="block"><span class="descfrmTypeLabel">Description copied from interface:&nbsp;<code><a href="../../../../org/dspace/app/itemexport/service/ItemExportService.html#canDownload-org.dspace.core.Context-java.lang.String-">ItemExportService</a></code></span></div>
<div class="block">The file name of the export archive contains the eperson id of the person
 who created it When requested for download this method can check if the
 person requesting it is the same one that created it</div>
<dl>
<dt><span class="overrideSpecifyLabel">Specified by:</span></dt>
<dd><code><a href="../../../../org/dspace/app/itemexport/service/ItemExportService.html#canDownload-org.dspace.core.Context-java.lang.String-">canDownload</a></code>&nbsp;in interface&nbsp;<code><a href="../../../../org/dspace/app/itemexport/service/ItemExportService.html" title="interface in org.dspace.app.itemexport.service">ItemExportService</a></code></dd>
<dt><span class="paramLabel">Parameters:</span></dt>
<dd><code>context</code> - dspace context</dd>
<dd><code>fileName</code> - the file name to check auths for</dd>
<dt><span class="returnLabel">Returns:</span></dt>
<dd>true if it is the same person false otherwise</dd>
</dl>
</li>
</ul>
<a name="getExportsAvailable-org.dspace.eperson.EPerson-">
<!--   -->
</a>
<ul class="blockList">
<li class="blockList">
<h4>getExportsAvailable</h4>
<pre>public&nbsp;<a href="http://docs.oracle.com/javase/7/docs/api/java/util/List.html?is-external=true" title="class or interface in java.util">List</a>&lt;<a href="http://docs.oracle.com/javase/7/docs/api/java/lang/String.html?is-external=true" title="class or interface in java.lang">String</a>&gt;&nbsp;getExportsAvailable(<a href="../../../../org/dspace/eperson/EPerson.html" title="class in org.dspace.eperson">EPerson</a>&nbsp;eperson)
                                 throws <a href="http://docs.oracle.com/javase/7/docs/api/java/lang/Exception.html?is-external=true" title="class or interface in java.lang">Exception</a></pre>
<div class="block"><span class="descfrmTypeLabel">Description copied from interface:&nbsp;<code><a href="../../../../org/dspace/app/itemexport/service/ItemExportService.html#getExportsAvailable-org.dspace.eperson.EPerson-">ItemExportService</a></code></span></div>
<div class="block">Reads the download directory for the eperson to see if any export
 archives are available</div>
<dl>
<dt><span class="overrideSpecifyLabel">Specified by:</span></dt>
<dd><code><a href="../../../../org/dspace/app/itemexport/service/ItemExportService.html#getExportsAvailable-org.dspace.eperson.EPerson-">getExportsAvailable</a></code>&nbsp;in interface&nbsp;<code><a href="../../../../org/dspace/app/itemexport/service/ItemExportService.html" title="interface in org.dspace.app.itemexport.service">ItemExportService</a></code></dd>
<dt><span class="paramLabel">Parameters:</span></dt>
<dd><code>eperson</code> - EPerson object</dd>
<dt><span class="returnLabel">Returns:</span></dt>
<dd>a list of file names representing export archives that have been
         processed</dd>
<dt><span class="throwsLabel">Throws:</span></dt>
<dd><code><a href="http://docs.oracle.com/javase/7/docs/api/java/lang/Exception.html?is-external=true" title="class or interface in java.lang">Exception</a></code> - if error</dd>
</dl>
</li>
</ul>
<a name="deleteOldExportArchives-org.dspace.eperson.EPerson-">
<!--   -->
</a>
<ul class="blockList">
<li class="blockList">
<h4>deleteOldExportArchives</h4>
<pre>public&nbsp;void&nbsp;deleteOldExportArchives(<a href="../../../../org/dspace/eperson/EPerson.html" title="class in org.dspace.eperson">EPerson</a>&nbsp;eperson)
                             throws <a href="http://docs.oracle.com/javase/7/docs/api/java/lang/Exception.html?is-external=true" title="class or interface in java.lang">Exception</a></pre>
<div class="block"><span class="descfrmTypeLabel">Description copied from interface:&nbsp;<code><a href="../../../../org/dspace/app/itemexport/service/ItemExportService.html#deleteOldExportArchives-org.dspace.eperson.EPerson-">ItemExportService</a></code></span></div>
<div class="block">A clean up method that is ran before a new export archive is created. It
 uses the config file entry 'org.dspace.app.itemexport.life.span.hours' to
 determine if the current exports are too old and need pruging</div>
<dl>
<dt><span class="overrideSpecifyLabel">Specified by:</span></dt>
<dd><code><a href="../../../../org/dspace/app/itemexport/service/ItemExportService.html#deleteOldExportArchives-org.dspace.eperson.EPerson-">deleteOldExportArchives</a></code>&nbsp;in interface&nbsp;<code><a href="../../../../org/dspace/app/itemexport/service/ItemExportService.html" title="interface in org.dspace.app.itemexport.service">ItemExportService</a></code></dd>
<dt><span class="paramLabel">Parameters:</span></dt>
<dd><code>eperson</code> - - the eperson to clean up</dd>
<dt><span class="throwsLabel">Throws:</span></dt>
<dd><code><a href="http://docs.oracle.com/javase/7/docs/api/java/lang/Exception.html?is-external=true" title="class or interface in java.lang">Exception</a></code> - if error</dd>
</dl>
</li>
</ul>
<a name="deleteOldExportArchives--">
<!--   -->
</a>
<ul class="blockList">
<li class="blockList">
<h4>deleteOldExportArchives</h4>
<pre>public&nbsp;void&nbsp;deleteOldExportArchives()
                             throws <a href="http://docs.oracle.com/javase/7/docs/api/java/lang/Exception.html?is-external=true" title="class or interface in java.lang">Exception</a></pre>
<div class="block"><span class="descfrmTypeLabel">Description copied from interface:&nbsp;<code><a href="../../../../org/dspace/app/itemexport/service/ItemExportService.html#deleteOldExportArchives--">ItemExportService</a></code></span></div>
<div class="block">A clean up method that is ran before a new export archive is created. It
 uses the config file entry 'org.dspace.app.itemexport.life.span.hours' to
 determine if the current exports are too old and need purgeing
 Removes all old exports, not just those for the person doing the export.</div>
<dl>
<dt><span class="overrideSpecifyLabel">Specified by:</span></dt>
<dd><code><a href="../../../../org/dspace/app/itemexport/service/ItemExportService.html#deleteOldExportArchives--">deleteOldExportArchives</a></code>&nbsp;in interface&nbsp;<code><a href="../../../../org/dspace/app/itemexport/service/ItemExportService.html" title="interface in org.dspace.app.itemexport.service">ItemExportService</a></code></dd>
<dt><span class="throwsLabel">Throws:</span></dt>
<dd><code><a href="http://docs.oracle.com/javase/7/docs/api/java/lang/Exception.html?is-external=true" title="class or interface in java.lang">Exception</a></code> - if error</dd>
</dl>
</li>
</ul>
<a name="emailSuccessMessage-org.dspace.core.Context-org.dspace.eperson.EPerson-java.lang.String-">
<!--   -->
</a>
<ul class="blockList">
<li class="blockList">
<h4>emailSuccessMessage</h4>
<pre>public&nbsp;void&nbsp;emailSuccessMessage(<a href="../../../../org/dspace/core/Context.html" title="class in org.dspace.core">Context</a>&nbsp;context,
                                <a href="../../../../org/dspace/eperson/EPerson.html" title="class in org.dspace.eperson">EPerson</a>&nbsp;eperson,
                                <a href="http://docs.oracle.com/javase/7/docs/api/java/lang/String.html?is-external=true" title="class or interface in java.lang">String</a>&nbsp;fileName)
                         throws javax.mail.MessagingException</pre>
<div class="block"><span class="descfrmTypeLabel">Description copied from interface:&nbsp;<code><a href="../../../../org/dspace/app/itemexport/service/ItemExportService.html#emailSuccessMessage-org.dspace.core.Context-org.dspace.eperson.EPerson-java.lang.String-">ItemExportService</a></code></span></div>
<div class="block">Since the archive is created in a new thread we are unable to communicate
 with calling method about success or failure. We accomplis this
 communication with email instead. Send a success email once the export
 archive is complete and ready for download</div>
<dl>
<dt><span class="overrideSpecifyLabel">Specified by:</span></dt>
<dd><code><a href="../../../../org/dspace/app/itemexport/service/ItemExportService.html#emailSuccessMessage-org.dspace.core.Context-org.dspace.eperson.EPerson-java.lang.String-">emailSuccessMessage</a></code>&nbsp;in interface&nbsp;<code><a href="../../../../org/dspace/app/itemexport/service/ItemExportService.html" title="interface in org.dspace.app.itemexport.service">ItemExportService</a></code></dd>
<dt><span class="paramLabel">Parameters:</span></dt>
<dd><code>context</code> - - the current Context</dd>
<dd><code>eperson</code> - - eperson to send the email to</dd>
<dd><code>fileName</code> - - the file name to be downloaded. It is added to the url in
            the email</dd>
<dt><span class="throwsLabel">Throws:</span></dt>
<dd><code>javax.mail.MessagingException</code> - if error</dd>
</dl>
</li>
</ul>
<a name="emailErrorMessage-org.dspace.eperson.EPerson-java.lang.String-">
<!--   -->
</a>
<ul class="blockList">
<li class="blockList">
<h4>emailErrorMessage</h4>
<pre>public&nbsp;void&nbsp;emailErrorMessage(<a href="../../../../org/dspace/eperson/EPerson.html" title="class in org.dspace.eperson">EPerson</a>&nbsp;eperson,
                              <a href="http://docs.oracle.com/javase/7/docs/api/java/lang/String.html?is-external=true" title="class or interface in java.lang">String</a>&nbsp;error)
                       throws javax.mail.MessagingException</pre>
<div class="block"><span class="descfrmTypeLabel">Description copied from interface:&nbsp;<code><a href="../../../../org/dspace/app/itemexport/service/ItemExportService.html#emailErrorMessage-org.dspace.eperson.EPerson-java.lang.String-">ItemExportService</a></code></span></div>
<div class="block">Since the archive is created in a new thread we are unable to communicate
 with calling method about success or failure. We accomplis this
 communication with email instead. Send an error email if the export
 archive fails</div>
<dl>
<dt><span class="overrideSpecifyLabel">Specified by:</span></dt>
<dd><code><a href="../../../../org/dspace/app/itemexport/service/ItemExportService.html#emailErrorMessage-org.dspace.eperson.EPerson-java.lang.String-">emailErrorMessage</a></code>&nbsp;in interface&nbsp;<code><a href="../../../../org/dspace/app/itemexport/service/ItemExportService.html" title="interface in org.dspace.app.itemexport.service">ItemExportService</a></code></dd>
<dt><span class="paramLabel">Parameters:</span></dt>
<dd><code>eperson</code> - - EPerson to send the error message to</dd>
<dd><code>error</code> - - the error message</dd>
<dt><span class="throwsLabel">Throws:</span></dt>
<dd><code>javax.mail.MessagingException</code> - if error</dd>
</dl>
</li>
</ul>
<a name="zip-java.lang.String-java.lang.String-">
<!--   -->
</a>
<ul class="blockList">
<li class="blockList">
<h4>zip</h4>
<pre>public&nbsp;void&nbsp;zip(<a href="http://docs.oracle.com/javase/7/docs/api/java/lang/String.html?is-external=true" title="class or interface in java.lang">String</a>&nbsp;strSource,
                <a href="http://docs.oracle.com/javase/7/docs/api/java/lang/String.html?is-external=true" title="class or interface in java.lang">String</a>&nbsp;target)
         throws <a href="http://docs.oracle.com/javase/7/docs/api/java/lang/Exception.html?is-external=true" title="class or interface in java.lang">Exception</a></pre>
<div class="block"><span class="descfrmTypeLabel">Description copied from interface:&nbsp;<code><a href="../../../../org/dspace/app/itemexport/service/ItemExportService.html#zip-java.lang.String-java.lang.String-">ItemExportService</a></code></span></div>
<div class="block">Zip source to target</div>
<dl>
<dt><span class="overrideSpecifyLabel">Specified by:</span></dt>
<dd><code><a href="../../../../org/dspace/app/itemexport/service/ItemExportService.html#zip-java.lang.String-java.lang.String-">zip</a></code>&nbsp;in interface&nbsp;<code><a href="../../../../org/dspace/app/itemexport/service/ItemExportService.html" title="interface in org.dspace.app.itemexport.service">ItemExportService</a></code></dd>
<dt><span class="paramLabel">Parameters:</span></dt>
<dd><code>strSource</code> - source file</dd>
<dd><code>target</code> - target file</dd>
<dt><span class="throwsLabel">Throws:</span></dt>
<dd><code><a href="http://docs.oracle.com/javase/7/docs/api/java/lang/Exception.html?is-external=true" title="class or interface in java.lang">Exception</a></code> - if error</dd>
</dl>
</li>
</ul>
<a name="zipFiles-java.io.File-java.lang.String-java.lang.String-java.util.zip.ZipOutputStream-">
<!--   -->
</a>
<ul class="blockList">
<li class="blockList">
<h4>zipFiles</h4>
<pre>protected&nbsp;void&nbsp;zipFiles(<a href="http://docs.oracle.com/javase/7/docs/api/java/io/File.html?is-external=true" title="class or interface in java.io">File</a>&nbsp;cpFile,
                        <a href="http://docs.oracle.com/javase/7/docs/api/java/lang/String.html?is-external=true" title="class or interface in java.lang">String</a>&nbsp;strSource,
                        <a href="http://docs.oracle.com/javase/7/docs/api/java/lang/String.html?is-external=true" title="class or interface in java.lang">String</a>&nbsp;strTarget,
                        <a href="http://docs.oracle.com/javase/7/docs/api/java/util/zip/ZipOutputStream.html?is-external=true" title="class or interface in java.util.zip">ZipOutputStream</a>&nbsp;cpZipOutputStream)
                 throws <a href="http://docs.oracle.com/javase/7/docs/api/java/lang/Exception.html?is-external=true" title="class or interface in java.lang">Exception</a></pre>
<dl>
<dt><span class="paramLabel">Parameters:</span></dt>
<dd><code>cpFile</code> - file</dd>
<dd><code>strSource</code> - source location</dd>
<dd><code>strTarget</code> - target location</dd>
<dd><code>cpZipOutputStream</code> - current zip outputstream</dd>
<dt><span class="throwsLabel">Throws:</span></dt>
<dd><code><a href="http://docs.oracle.com/javase/7/docs/api/java/lang/Exception.html?is-external=true" title="class or interface in java.lang">Exception</a></code> - if error</dd>
</dl>
</li>
</ul>
<a name="deleteDirectory-java.io.File-">
<!--   -->
</a>
<ul class="blockListLast">
<li class="blockList">
<h4>deleteDirectory</h4>
<pre>protected&nbsp;boolean&nbsp;deleteDirectory(<a href="http://docs.oracle.com/javase/7/docs/api/java/io/File.html?is-external=true" title="class or interface in java.io">File</a>&nbsp;path)</pre>
<div class="block">Delete a directory</div>
<dl>
<dt><span class="paramLabel">Parameters:</span></dt>
<dd><code>path</code> - directory path</dd>
<dt><span class="returnLabel">Returns:</span></dt>
<dd>true if successful, false otherwise</dd>
</dl>
</li>
</ul>
</li>
</ul>
</li>
</ul>
</div>
</div>
<!-- ========= END OF CLASS DATA ========= -->
<!-- ======= START OF BOTTOM NAVBAR ====== -->
<div class="bottomNav"><a name="navbar.bottom">
<!--   -->
</a>
<div class="skipNav"><a href="#skip.navbar.bottom" title="Skip navigation links">Skip navigation links</a></div>
<a name="navbar.bottom.firstrow">
<!--   -->
</a>
<ul class="navList" title="Navigation">
<li><a href="../../../../overview-summary.html">Overview</a></li>
<li><a href="package-summary.html">Package</a></li>
<li class="navBarCell1Rev">Class</li>
<li><a href="class-use/ItemExportServiceImpl.html">Use</a></li>
<li><a href="package-tree.html">Tree</a></li>
<li><a href="../../../../deprecated-list.html">Deprecated</a></li>
<li><a href="../../../../index-all.html">Index</a></li>
<li><a href="../../../../help-doc.html">Help</a></li>
</ul>
</div>
<div class="subNav">
<ul class="navList">
<li><a href="../../../../org/dspace/app/itemexport/ItemExportException.html" title="class in org.dspace.app.itemexport"><span class="typeNameLink">Prev&nbsp;Class</span></a></li>
<li>Next&nbsp;Class</li>
</ul>
<ul class="navList">
<li><a href="../../../../index.html?org/dspace/app/itemexport/ItemExportServiceImpl.html" target="_top">Frames</a></li>
<li><a href="ItemExportServiceImpl.html" target="_top">No&nbsp;Frames</a></li>
</ul>
<ul class="navList" id="allclasses_navbar_bottom">
<li><a href="../../../../allclasses-noframe.html">All&nbsp;Classes</a></li>
</ul>
<div>
<script type="text/javascript"><!--
  allClassesLink = document.getElementById("allclasses_navbar_bottom");
  if(window==top) {
    allClassesLink.style.display = "block";
  }
  else {
    allClassesLink.style.display = "none";
  }
  //-->
</script>
</div>
<div>
<ul class="subNavList">
<li>Summary:&nbsp;</li>
<li>Nested&nbsp;|&nbsp;</li>
<li><a href="#field.summary">Field</a>&nbsp;|&nbsp;</li>
<li><a href="#constructor.summary">Constr</a>&nbsp;|&nbsp;</li>
<li><a href="#method.summary">Method</a></li>
</ul>
<ul class="subNavList">
<li>Detail:&nbsp;</li>
<li><a href="#field.detail">Field</a>&nbsp;|&nbsp;</li>
<li><a href="#constructor.detail">Constr</a>&nbsp;|&nbsp;</li>
<li><a href="#method.detail">Method</a></li>
</ul>
</div>
<a name="skip.navbar.bottom">
<!--   -->
</a></div>
<!-- ======== END OF BOTTOM NAVBAR ======= -->
<p class="legalCopy"><small>Copyright &#169; 2016 <a href="http://www.dspace.org">DuraSpace</a>. All rights reserved.</small></p>
</body>
</html>
