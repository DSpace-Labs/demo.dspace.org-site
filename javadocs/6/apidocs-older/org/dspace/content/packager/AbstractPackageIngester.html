<!DOCTYPE HTML PUBLIC "-//W3C//DTD HTML 4.01 Transitional//EN" "http://www.w3.org/TR/html4/loose.dtd">
<!-- NewPage -->
<html lang="en">
<head>
<!-- Generated by javadoc (version 1.7.0_95) on Wed Feb 17 17:09:42 CET 2016 -->
<meta http-equiv="Content-Type" content="text/html; charset=UTF-8">
<title>AbstractPackageIngester (DSpace Parent Project 6.0-SNAPSHOT API)</title>
<meta name="date" content="2016-02-17">
<link rel="stylesheet" type="text/css" href="../../../../stylesheet.css" title="Style">
</head>
<body>
<script type="text/javascript"><!--
    if (location.href.indexOf('is-external=true') == -1) {
        parent.document.title="AbstractPackageIngester (DSpace Parent Project 6.0-SNAPSHOT API)";
    }
//-->
</script>
<noscript>
<div>JavaScript is disabled on your browser.</div>
</noscript>
<!-- ========= START OF TOP NAVBAR ======= -->
<div class="topNav"><a name="navbar_top">
<!--   -->
</a><a href="#skip-navbar_top" title="Skip navigation links"></a><a name="navbar_top_firstrow">
<!--   -->
</a>
<ul class="navList" title="Navigation">
<li><a href="../../../../overview-summary.html">Overview</a></li>
<li><a href="package-summary.html">Package</a></li>
<li class="navBarCell1Rev">Class</li>
<li><a href="class-use/AbstractPackageIngester.html">Use</a></li>
<li><a href="package-tree.html">Tree</a></li>
<li><a href="../../../../deprecated-list.html">Deprecated</a></li>
<li><a href="../../../../index-all.html">Index</a></li>
<li><a href="../../../../help-doc.html">Help</a></li>
</ul>
</div>
<div class="subNav">
<ul class="navList">
<li><a href="../../../../org/dspace/content/packager/AbstractPackageDisseminator.html" title="class in org.dspace.content.packager"><span class="strong">Prev Class</span></a></li>
<li><a href="../../../../org/dspace/content/packager/DSpaceAIPDisseminator.html" title="class in org.dspace.content.packager"><span class="strong">Next Class</span></a></li>
</ul>
<ul class="navList">
<li><a href="../../../../index.html?org/dspace/content/packager/AbstractPackageIngester.html" target="_top">Frames</a></li>
<li><a href="AbstractPackageIngester.html" target="_top">No Frames</a></li>
</ul>
<ul class="navList" id="allclasses_navbar_top">
<li><a href="../../../../allclasses-noframe.html">All Classes</a></li>
</ul>
<div>
<script type="text/javascript"><!--
  allClassesLink = document.getElementById("allclasses_navbar_top");
  if(window==top) {
    allClassesLink.style.display = "block";
  }
  else {
    allClassesLink.style.display = "none";
  }
  //-->
</script>
</div>
<div>
<ul class="subNavList">
<li>Summary:&nbsp;</li>
<li>Nested&nbsp;|&nbsp;</li>
<li><a href="#field_summary">Field</a>&nbsp;|&nbsp;</li>
<li><a href="#constructor_summary">Constr</a>&nbsp;|&nbsp;</li>
<li><a href="#method_summary">Method</a></li>
</ul>
<ul class="subNavList">
<li>Detail:&nbsp;</li>
<li><a href="#field_detail">Field</a>&nbsp;|&nbsp;</li>
<li><a href="#constructor_detail">Constr</a>&nbsp;|&nbsp;</li>
<li><a href="#method_detail">Method</a></li>
</ul>
</div>
<a name="skip-navbar_top">
<!--   -->
</a></div>
<!-- ========= END OF TOP NAVBAR ========= -->
<!-- ======== START OF CLASS DATA ======== -->
<div class="header">
<div class="subTitle">org.dspace.content.packager</div>
<h2 title="Class AbstractPackageIngester" class="title">Class AbstractPackageIngester</h2>
</div>
<div class="contentContainer">
<ul class="inheritance">
<li><a href="http://docs.oracle.com/javase/7/docs/api/java/lang/Object.html?is-external=true" title="class or interface in java.lang">java.lang.Object</a></li>
<li>
<ul class="inheritance">
<li>org.dspace.content.packager.AbstractPackageIngester</li>
</ul>
</li>
</ul>
<div class="description">
<ul class="blockList">
<li class="blockList">
<dl>
<dt>All Implemented Interfaces:</dt>
<dd><a href="../../../../org/dspace/content/packager/PackageIngester.html" title="interface in org.dspace.content.packager">PackageIngester</a></dd>
</dl>
<dl>
<dt>Direct Known Subclasses:</dt>
<dd><a href="../../../../org/dspace/content/packager/AbstractMETSIngester.html" title="class in org.dspace.content.packager">AbstractMETSIngester</a></dd>
</dl>
<hr>
<br>
<pre>public abstract class <span class="strong">AbstractPackageIngester</span>
extends <a href="http://docs.oracle.com/javase/7/docs/api/java/lang/Object.html?is-external=true" title="class or interface in java.lang">Object</a>
implements <a href="../../../../org/dspace/content/packager/PackageIngester.html" title="interface in org.dspace.content.packager">PackageIngester</a></pre>
<div class="block">An abstract implementation of a DSpace Package Ingester, which
 implements a few helper/utility methods that most (all?) PackageIngesters
 may find useful.
 <P>
 First, implements recursive functionality in ingestAll() and replaceAll()
 methods of the PackageIngester interface.  These methods are setup to
 recursively call ingest() and replace() respectively.
 <P>
 Finally, it also implements several utility methods (createDSpaceObject(),
 finishCreateItem(), updateDSpaceObject()) which subclasses may find useful.
 This classes will allow subclasses to easily create/update objects without
 having to worry too much about normal DSpace submission workflows (which is
 taken care of in these utility methods).
 <P>
 All Package ingesters should either extend this abstract class
 or implement <code>PackageIngester</code> to better suit their needs.</div>
<dl><dt><span class="strong">Author:</span></dt>
  <dd>Tim Donohue</dd>
<dt><span class="strong">See Also:</span></dt><dd><a href="../../../../org/dspace/content/packager/PackageIngester.html" title="interface in org.dspace.content.packager"><code>PackageIngester</code></a>, 
<code>PluginService</code></dd></dl>
</li>
</ul>
</div>
<div class="summary">
<ul class="blockList">
<li class="blockList">
<!-- =========== FIELD SUMMARY =========== -->
<ul class="blockList">
<li class="blockList"><a name="field_summary">
<!--   -->
</a>
<h3>Field Summary</h3>
<table class="overviewSummary" border="0" cellpadding="3" cellspacing="0" summary="Field Summary table, listing fields, and an explanation">
<caption><span>Fields</span><span class="tabEnd">&nbsp;</span></caption>
<tr>
<th class="colFirst" scope="col">Modifier and Type</th>
<th class="colLast" scope="col">Field and Description</th>
</tr>
<tr class="altColor">
<td class="colFirst"><code>protected <a href="../../../../org/dspace/content/service/CollectionService.html" title="interface in org.dspace.content.service">CollectionService</a></code></td>
<td class="colLast"><code><strong><a href="../../../../org/dspace/content/packager/AbstractPackageIngester.html#collectionService">collectionService</a></strong></code>&nbsp;</td>
</tr>
<tr class="rowColor">
<td class="colFirst"><code>protected <a href="../../../../org/dspace/handle/service/HandleService.html" title="interface in org.dspace.handle.service">HandleService</a></code></td>
<td class="colLast"><code><strong><a href="../../../../org/dspace/content/packager/AbstractPackageIngester.html#handleService">handleService</a></strong></code>&nbsp;</td>
</tr>
<tr class="altColor">
<td class="colFirst"><code>protected <a href="../../../../org/dspace/content/service/ItemService.html" title="interface in org.dspace.content.service">ItemService</a></code></td>
<td class="colLast"><code><strong><a href="../../../../org/dspace/content/packager/AbstractPackageIngester.html#itemService">itemService</a></strong></code>&nbsp;</td>
</tr>
</table>
</li>
</ul>
<!-- ======== CONSTRUCTOR SUMMARY ======== -->
<ul class="blockList">
<li class="blockList"><a name="constructor_summary">
<!--   -->
</a>
<h3>Constructor Summary</h3>
<table class="overviewSummary" border="0" cellpadding="3" cellspacing="0" summary="Constructor Summary table, listing constructors, and an explanation">
<caption><span>Constructors</span><span class="tabEnd">&nbsp;</span></caption>
<tr>
<th class="colOne" scope="col">Constructor and Description</th>
</tr>
<tr class="altColor">
<td class="colOne"><code><strong><a href="../../../../org/dspace/content/packager/AbstractPackageIngester.html#AbstractPackageIngester()">AbstractPackageIngester</a></strong>()</code>&nbsp;</td>
</tr>
</table>
</li>
</ul>
<!-- ========== METHOD SUMMARY =========== -->
<ul class="blockList">
<li class="blockList"><a name="method_summary">
<!--   -->
</a>
<h3>Method Summary</h3>
<table class="overviewSummary" border="0" cellpadding="3" cellspacing="0" summary="Method Summary table, listing methods, and an explanation">
<caption><span>Methods</span><span class="tabEnd">&nbsp;</span></caption>
<tr>
<th class="colFirst" scope="col">Modifier and Type</th>
<th class="colLast" scope="col">Method and Description</th>
</tr>
<tr class="altColor">
<td class="colFirst"><code>void</code></td>
<td class="colLast"><code><strong><a href="../../../../org/dspace/content/packager/AbstractPackageIngester.html#addPackageReference(org.dspace.content.DSpaceObject,%20java.lang.String)">addPackageReference</a></strong>(<a href="../../../../org/dspace/content/DSpaceObject.html" title="class in org.dspace.content">DSpaceObject</a>&nbsp;dso,
                   <a href="http://docs.oracle.com/javase/7/docs/api/java/lang/String.html?is-external=true" title="class or interface in java.lang">String</a>&nbsp;packageRef)</code>
<div class="block">During ingestion process, some submission information packages (SIPs)
 may reference other packages to be ingested (recursively).</div>
</td>
</tr>
<tr class="rowColor">
<td class="colFirst"><code>protected void</code></td>
<td class="colLast"><code><strong><a href="../../../../org/dspace/content/packager/AbstractPackageIngester.html#addToIngestedMap(java.io.File,%20org.dspace.content.DSpaceObject)">addToIngestedMap</a></strong>(<a href="http://docs.oracle.com/javase/7/docs/api/java/io/File.html?is-external=true" title="class or interface in java.io">File</a>&nbsp;pkgFile,
                <a href="../../../../org/dspace/content/DSpaceObject.html" title="class in org.dspace.content">DSpaceObject</a>&nbsp;dso)</code>
<div class="block">Add parsed package and resulting DSpaceObject to list of successfully 
 ingested/replaced objects.</div>
</td>
</tr>
<tr class="altColor">
<td class="colFirst"><code>protected <a href="http://docs.oracle.com/javase/7/docs/api/java/util/List.html?is-external=true" title="class or interface in java.util">List</a>&lt;<a href="http://docs.oracle.com/javase/7/docs/api/java/lang/String.html?is-external=true" title="class or interface in java.lang">String</a>&gt;</code></td>
<td class="colLast"><code><strong><a href="../../../../org/dspace/content/packager/AbstractPackageIngester.html#getIngestedList()">getIngestedList</a></strong>()</code>
<div class="block">Return List of all DSpaceObject Identifiers which have been ingested/replaced by
 this instance of the Ingester.</div>
</td>
</tr>
<tr class="rowColor">
<td class="colFirst"><code>protected <a href="http://docs.oracle.com/javase/7/docs/api/java/util/Map.html?is-external=true" title="class or interface in java.util">Map</a>&lt;<a href="http://docs.oracle.com/javase/7/docs/api/java/io/File.html?is-external=true" title="class or interface in java.io">File</a>,<a href="http://docs.oracle.com/javase/7/docs/api/java/lang/String.html?is-external=true" title="class or interface in java.lang">String</a>&gt;</code></td>
<td class="colLast"><code><strong><a href="../../../../org/dspace/content/packager/AbstractPackageIngester.html#getIngestedMap()">getIngestedMap</a></strong>()</code>
<div class="block">Return Map of all packages ingested and the DSpaceObjects which have been 
 created/replaced by this instance of the Ingester.</div>
</td>
</tr>
<tr class="altColor">
<td class="colFirst"><code><a href="http://docs.oracle.com/javase/7/docs/api/java/util/List.html?is-external=true" title="class or interface in java.util">List</a>&lt;<a href="http://docs.oracle.com/javase/7/docs/api/java/lang/String.html?is-external=true" title="class or interface in java.lang">String</a>&gt;</code></td>
<td class="colLast"><code><strong><a href="../../../../org/dspace/content/packager/AbstractPackageIngester.html#getPackageReferences(org.dspace.content.DSpaceObject)">getPackageReferences</a></strong>(<a href="../../../../org/dspace/content/DSpaceObject.html" title="class in org.dspace.content">DSpaceObject</a>&nbsp;dso)</code>
<div class="block">Return a list of known SIP references from a newly created DSpaceObject.</div>
</td>
</tr>
<tr class="rowColor">
<td class="colFirst"><code><a href="http://docs.oracle.com/javase/7/docs/api/java/util/List.html?is-external=true" title="class or interface in java.util">List</a>&lt;<a href="http://docs.oracle.com/javase/7/docs/api/java/lang/String.html?is-external=true" title="class or interface in java.lang">String</a>&gt;</code></td>
<td class="colLast"><code><strong><a href="../../../../org/dspace/content/packager/AbstractPackageIngester.html#ingestAll(org.dspace.core.Context,%20org.dspace.content.DSpaceObject,%20java.io.File,%20org.dspace.content.packager.PackageParameters,%20java.lang.String)">ingestAll</a></strong>(<a href="../../../../org/dspace/core/Context.html" title="class in org.dspace.core">Context</a>&nbsp;context,
         <a href="../../../../org/dspace/content/DSpaceObject.html" title="class in org.dspace.content">DSpaceObject</a>&nbsp;parent,
         <a href="http://docs.oracle.com/javase/7/docs/api/java/io/File.html?is-external=true" title="class or interface in java.io">File</a>&nbsp;pkgFile,
         <a href="../../../../org/dspace/content/packager/PackageParameters.html" title="class in org.dspace.content.packager">PackageParameters</a>&nbsp;params,
         <a href="http://docs.oracle.com/javase/7/docs/api/java/lang/String.html?is-external=true" title="class or interface in java.lang">String</a>&nbsp;license)</code>
<div class="block">Recursively create one or more DSpace Objects out of the contents
 of the ingested package (and all other referenced packages).</div>
</td>
</tr>
<tr class="altColor">
<td class="colFirst"><code><a href="http://docs.oracle.com/javase/7/docs/api/java/util/List.html?is-external=true" title="class or interface in java.util">List</a>&lt;<a href="http://docs.oracle.com/javase/7/docs/api/java/lang/String.html?is-external=true" title="class or interface in java.lang">String</a>&gt;</code></td>
<td class="colLast"><code><strong><a href="../../../../org/dspace/content/packager/AbstractPackageIngester.html#replaceAll(org.dspace.core.Context,%20org.dspace.content.DSpaceObject,%20java.io.File,%20org.dspace.content.packager.PackageParameters)">replaceAll</a></strong>(<a href="../../../../org/dspace/core/Context.html" title="class in org.dspace.core">Context</a>&nbsp;context,
          <a href="../../../../org/dspace/content/DSpaceObject.html" title="class in org.dspace.content">DSpaceObject</a>&nbsp;dso,
          <a href="http://docs.oracle.com/javase/7/docs/api/java/io/File.html?is-external=true" title="class or interface in java.io">File</a>&nbsp;pkgFile,
          <a href="../../../../org/dspace/content/packager/PackageParameters.html" title="class in org.dspace.content.packager">PackageParameters</a>&nbsp;params)</code>
<div class="block">Recursively replace one or more DSpace Objects out of the contents
 of the ingested package (and all other referenced packages).</div>
</td>
</tr>
</table>
<ul class="blockList">
<li class="blockList"><a name="methods_inherited_from_class_java.lang.Object">
<!--   -->
</a>
<h3>Methods inherited from class&nbsp;java.lang.<a href="http://docs.oracle.com/javase/7/docs/api/java/lang/Object.html?is-external=true" title="class or interface in java.lang">Object</a></h3>
<code><a href="http://docs.oracle.com/javase/7/docs/api/java/lang/Object.html?is-external=true#clone()" title="class or interface in java.lang">clone</a>, <a href="http://docs.oracle.com/javase/7/docs/api/java/lang/Object.html?is-external=true#equals(java.lang.Object)" title="class or interface in java.lang">equals</a>, <a href="http://docs.oracle.com/javase/7/docs/api/java/lang/Object.html?is-external=true#finalize()" title="class or interface in java.lang">finalize</a>, <a href="http://docs.oracle.com/javase/7/docs/api/java/lang/Object.html?is-external=true#getClass()" title="class or interface in java.lang">getClass</a>, <a href="http://docs.oracle.com/javase/7/docs/api/java/lang/Object.html?is-external=true#hashCode()" title="class or interface in java.lang">hashCode</a>, <a href="http://docs.oracle.com/javase/7/docs/api/java/lang/Object.html?is-external=true#notify()" title="class or interface in java.lang">notify</a>, <a href="http://docs.oracle.com/javase/7/docs/api/java/lang/Object.html?is-external=true#notifyAll()" title="class or interface in java.lang">notifyAll</a>, <a href="http://docs.oracle.com/javase/7/docs/api/java/lang/Object.html?is-external=true#toString()" title="class or interface in java.lang">toString</a>, <a href="http://docs.oracle.com/javase/7/docs/api/java/lang/Object.html?is-external=true#wait()" title="class or interface in java.lang">wait</a>, <a href="http://docs.oracle.com/javase/7/docs/api/java/lang/Object.html?is-external=true#wait(long)" title="class or interface in java.lang">wait</a>, <a href="http://docs.oracle.com/javase/7/docs/api/java/lang/Object.html?is-external=true#wait(long,%20int)" title="class or interface in java.lang">wait</a></code></li>
</ul>
<ul class="blockList">
<li class="blockList"><a name="methods_inherited_from_class_org.dspace.content.packager.PackageIngester">
<!--   -->
</a>
<h3>Methods inherited from interface&nbsp;org.dspace.content.packager.<a href="../../../../org/dspace/content/packager/PackageIngester.html" title="interface in org.dspace.content.packager">PackageIngester</a></h3>
<code><a href="../../../../org/dspace/content/packager/PackageIngester.html#getParameterHelp()">getParameterHelp</a>, <a href="../../../../org/dspace/content/packager/PackageIngester.html#ingest(org.dspace.core.Context,%20org.dspace.content.DSpaceObject,%20java.io.File,%20org.dspace.content.packager.PackageParameters,%20java.lang.String)">ingest</a>, <a href="../../../../org/dspace/content/packager/PackageIngester.html#replace(org.dspace.core.Context,%20org.dspace.content.DSpaceObject,%20java.io.File,%20org.dspace.content.packager.PackageParameters)">replace</a></code></li>
</ul>
</li>
</ul>
</li>
</ul>
</div>
<div class="details">
<ul class="blockList">
<li class="blockList">
<!-- ============ FIELD DETAIL =========== -->
<ul class="blockList">
<li class="blockList"><a name="field_detail">
<!--   -->
</a>
<h3>Field Detail</h3>
<a name="collectionService">
<!--   -->
</a>
<ul class="blockList">
<li class="blockList">
<h4>collectionService</h4>
<pre>protected final&nbsp;<a href="../../../../org/dspace/content/service/CollectionService.html" title="interface in org.dspace.content.service">CollectionService</a> collectionService</pre>
</li>
</ul>
<a name="itemService">
<!--   -->
</a>
<ul class="blockList">
<li class="blockList">
<h4>itemService</h4>
<pre>protected final&nbsp;<a href="../../../../org/dspace/content/service/ItemService.html" title="interface in org.dspace.content.service">ItemService</a> itemService</pre>
</li>
</ul>
<a name="handleService">
<!--   -->
</a>
<ul class="blockListLast">
<li class="blockList">
<h4>handleService</h4>
<pre>protected final&nbsp;<a href="../../../../org/dspace/handle/service/HandleService.html" title="interface in org.dspace.handle.service">HandleService</a> handleService</pre>
</li>
</ul>
</li>
</ul>
<!-- ========= CONSTRUCTOR DETAIL ======== -->
<ul class="blockList">
<li class="blockList"><a name="constructor_detail">
<!--   -->
</a>
<h3>Constructor Detail</h3>
<a name="AbstractPackageIngester()">
<!--   -->
</a>
<ul class="blockListLast">
<li class="blockList">
<h4>AbstractPackageIngester</h4>
<pre>public&nbsp;AbstractPackageIngester()</pre>
</li>
</ul>
</li>
</ul>
<!-- ============ METHOD DETAIL ========== -->
<ul class="blockList">
<li class="blockList"><a name="method_detail">
<!--   -->
</a>
<h3>Method Detail</h3>
<a name="ingestAll(org.dspace.core.Context, org.dspace.content.DSpaceObject, java.io.File, org.dspace.content.packager.PackageParameters, java.lang.String)">
<!--   -->
</a>
<ul class="blockList">
<li class="blockList">
<h4>ingestAll</h4>
<pre>public&nbsp;<a href="http://docs.oracle.com/javase/7/docs/api/java/util/List.html?is-external=true" title="class or interface in java.util">List</a>&lt;<a href="http://docs.oracle.com/javase/7/docs/api/java/lang/String.html?is-external=true" title="class or interface in java.lang">String</a>&gt;&nbsp;ingestAll(<a href="../../../../org/dspace/core/Context.html" title="class in org.dspace.core">Context</a>&nbsp;context,
                     <a href="../../../../org/dspace/content/DSpaceObject.html" title="class in org.dspace.content">DSpaceObject</a>&nbsp;parent,
                     <a href="http://docs.oracle.com/javase/7/docs/api/java/io/File.html?is-external=true" title="class or interface in java.io">File</a>&nbsp;pkgFile,
                     <a href="../../../../org/dspace/content/packager/PackageParameters.html" title="class in org.dspace.content.packager">PackageParameters</a>&nbsp;params,
                     <a href="http://docs.oracle.com/javase/7/docs/api/java/lang/String.html?is-external=true" title="class or interface in java.lang">String</a>&nbsp;license)
                       throws <a href="../../../../org/dspace/content/packager/PackageException.html" title="class in org.dspace.content.packager">PackageException</a>,
                              <a href="http://docs.oracle.com/javase/7/docs/api/java/lang/UnsupportedOperationException.html?is-external=true" title="class or interface in java.lang">UnsupportedOperationException</a>,
                              <a href="../../../../org/dspace/content/crosswalk/CrosswalkException.html" title="class in org.dspace.content.crosswalk">CrosswalkException</a>,
                              <a href="../../../../org/dspace/authorize/AuthorizeException.html" title="class in org.dspace.authorize">AuthorizeException</a>,
                              <a href="http://docs.oracle.com/javase/7/docs/api/java/sql/SQLException.html?is-external=true" title="class or interface in java.sql">SQLException</a>,
                              <a href="http://docs.oracle.com/javase/7/docs/api/java/io/IOException.html?is-external=true" title="class or interface in java.io">IOException</a>,
                              <a href="../../../../org/dspace/workflow/WorkflowException.html" title="class in org.dspace.workflow">WorkflowException</a></pre>
<div class="block">Recursively create one or more DSpace Objects out of the contents
 of the ingested package (and all other referenced packages).
 The initial object is created under the indicated parent.  All other
 objects are created based on their relationship to the initial object.
 <p>
 For example, a scenario may be to create a Collection based on a
 collection-level package, and also create an Item for every item-level
 package referenced by the collection-level package.
 <p>
 The output of this method is one or more newly created DSpaceObject Identifiers
 (i.e. Handles).
 <p>
 The packager <em>may</em> choose not to implement <code>ingestAll</code>,
 or simply forward the call to <code>ingest</code> if it is unable to support
 recursive ingestion.
 <p>
 The deposit license (Only significant for Item) is passed
 explicitly as a string since there is no place for it in many
 package formats.  It is optional and may be given as
 <code>null</code>.</div>
<dl>
<dt><strong>Specified by:</strong></dt>
<dd><code><a href="../../../../org/dspace/content/packager/PackageIngester.html#ingestAll(org.dspace.core.Context,%20org.dspace.content.DSpaceObject,%20java.io.File,%20org.dspace.content.packager.PackageParameters,%20java.lang.String)">ingestAll</a></code>&nbsp;in interface&nbsp;<code><a href="../../../../org/dspace/content/packager/PackageIngester.html" title="interface in org.dspace.content.packager">PackageIngester</a></code></dd>
<dt><span class="strong">Parameters:</span></dt><dd><code>context</code> - DSpace context.</dd><dd><code>parent</code> - parent under which to create the initial object
        (may be null -- in which case ingester must determine parent from package
         or throw an error).</dd><dd><code>pkgFile</code> - The initial package file to ingest</dd><dd><code>params</code> - Properties-style list of options (interpreted by each packager).</dd><dd><code>license</code> - may be null, which takes default license.</dd>
<dt><span class="strong">Returns:</span></dt><dd>List of DSpaceObjects created</dd>
<dt><span class="strong">Throws:</span></dt>
<dd><code><a href="../../../../org/dspace/content/packager/PackageValidationException.html" title="class in org.dspace.content.packager">PackageValidationException</a></code> - if initial package (or any referenced package)
          is unacceptable or there is a fatal error in creating a DSpaceObject</dd>
<dd><code><a href="http://docs.oracle.com/javase/7/docs/api/java/lang/UnsupportedOperationException.html?is-external=true" title="class or interface in java.lang">UnsupportedOperationException</a></code> - if this packager does not
  implement <code>ingestAll</code></dd>
<dd><code><a href="../../../../org/dspace/content/packager/PackageException.html" title="class in org.dspace.content.packager">PackageException</a></code></dd>
<dd><code><a href="../../../../org/dspace/content/crosswalk/CrosswalkException.html" title="class in org.dspace.content.crosswalk">CrosswalkException</a></code></dd>
<dd><code><a href="../../../../org/dspace/authorize/AuthorizeException.html" title="class in org.dspace.authorize">AuthorizeException</a></code></dd>
<dd><code><a href="http://docs.oracle.com/javase/7/docs/api/java/sql/SQLException.html?is-external=true" title="class or interface in java.sql">SQLException</a></code></dd>
<dd><code><a href="http://docs.oracle.com/javase/7/docs/api/java/io/IOException.html?is-external=true" title="class or interface in java.io">IOException</a></code></dd>
<dd><code><a href="../../../../org/dspace/workflow/WorkflowException.html" title="class in org.dspace.workflow">WorkflowException</a></code></dd></dl>
</li>
</ul>
<a name="replaceAll(org.dspace.core.Context, org.dspace.content.DSpaceObject, java.io.File, org.dspace.content.packager.PackageParameters)">
<!--   -->
</a>
<ul class="blockList">
<li class="blockList">
<h4>replaceAll</h4>
<pre>public&nbsp;<a href="http://docs.oracle.com/javase/7/docs/api/java/util/List.html?is-external=true" title="class or interface in java.util">List</a>&lt;<a href="http://docs.oracle.com/javase/7/docs/api/java/lang/String.html?is-external=true" title="class or interface in java.lang">String</a>&gt;&nbsp;replaceAll(<a href="../../../../org/dspace/core/Context.html" title="class in org.dspace.core">Context</a>&nbsp;context,
                      <a href="../../../../org/dspace/content/DSpaceObject.html" title="class in org.dspace.content">DSpaceObject</a>&nbsp;dso,
                      <a href="http://docs.oracle.com/javase/7/docs/api/java/io/File.html?is-external=true" title="class or interface in java.io">File</a>&nbsp;pkgFile,
                      <a href="../../../../org/dspace/content/packager/PackageParameters.html" title="class in org.dspace.content.packager">PackageParameters</a>&nbsp;params)
                        throws <a href="../../../../org/dspace/content/packager/PackageException.html" title="class in org.dspace.content.packager">PackageException</a>,
                               <a href="http://docs.oracle.com/javase/7/docs/api/java/lang/UnsupportedOperationException.html?is-external=true" title="class or interface in java.lang">UnsupportedOperationException</a>,
                               <a href="../../../../org/dspace/content/crosswalk/CrosswalkException.html" title="class in org.dspace.content.crosswalk">CrosswalkException</a>,
                               <a href="../../../../org/dspace/authorize/AuthorizeException.html" title="class in org.dspace.authorize">AuthorizeException</a>,
                               <a href="http://docs.oracle.com/javase/7/docs/api/java/sql/SQLException.html?is-external=true" title="class or interface in java.sql">SQLException</a>,
                               <a href="http://docs.oracle.com/javase/7/docs/api/java/io/IOException.html?is-external=true" title="class or interface in java.io">IOException</a>,
                               <a href="../../../../org/dspace/workflow/WorkflowException.html" title="class in org.dspace.workflow">WorkflowException</a></pre>
<div class="block">Recursively replace one or more DSpace Objects out of the contents
 of the ingested package (and all other referenced packages).
 The initial object to replace is indicated by <code>dso</code>.  All other
 objects are replaced based on information provided in the referenced packages.
 <p>
 For example, a scenario may be to replace a Collection based on a
 collection-level package, and also replace *every* Item in that collection
 based on the item-level packages referenced by the collection-level package.
 <p>
 Please note that since the <code>dso</code> input only specifies the
 initial object to replace, any additional objects to replace must be
 determined based on the referenced packages (or initial package itself).
 <p>
 The output of this method is one or more replaced DSpaceObject Identifiers
 (i.e. Handles).
 <p>
 The packager <em>may</em> choose not to implement <code>replaceAll</code>,
 since it somewhat contradicts the archival nature of DSpace. It also
 may choose to forward the call to <code>replace</code> if it is unable to
 support recursive replacement.</div>
<dl>
<dt><strong>Specified by:</strong></dt>
<dd><code><a href="../../../../org/dspace/content/packager/PackageIngester.html#replaceAll(org.dspace.core.Context,%20org.dspace.content.DSpaceObject,%20java.io.File,%20org.dspace.content.packager.PackageParameters)">replaceAll</a></code>&nbsp;in interface&nbsp;<code><a href="../../../../org/dspace/content/packager/PackageIngester.html" title="interface in org.dspace.content.packager">PackageIngester</a></code></dd>
<dt><span class="strong">Parameters:</span></dt><dd><code>context</code> - DSpace context.</dd><dd><code>dso</code> - initial existing DSpace Object to be replaced, may be null
            if object to replace can be determined from package</dd><dd><code>pkgFile</code> - The package file to ingest.</dd><dd><code>params</code> - Properties-style list of options specific to this packager</dd>
<dt><span class="strong">Returns:</span></dt><dd>List of Identifiers of DSpaceObjects replaced</dd>
<dt><span class="strong">Throws:</span></dt>
<dd><code><a href="../../../../org/dspace/content/packager/PackageValidationException.html" title="class in org.dspace.content.packager">PackageValidationException</a></code> - if initial package (or any referenced package)
          is unacceptable or there is a fatal error in creating a DSpaceObject</dd>
<dd><code><a href="http://docs.oracle.com/javase/7/docs/api/java/lang/UnsupportedOperationException.html?is-external=true" title="class or interface in java.lang">UnsupportedOperationException</a></code> - if this packager does not
  implement <code>replaceAll</code></dd>
<dd><code><a href="../../../../org/dspace/content/packager/PackageException.html" title="class in org.dspace.content.packager">PackageException</a></code></dd>
<dd><code><a href="../../../../org/dspace/content/crosswalk/CrosswalkException.html" title="class in org.dspace.content.crosswalk">CrosswalkException</a></code></dd>
<dd><code><a href="../../../../org/dspace/authorize/AuthorizeException.html" title="class in org.dspace.authorize">AuthorizeException</a></code></dd>
<dd><code><a href="http://docs.oracle.com/javase/7/docs/api/java/sql/SQLException.html?is-external=true" title="class or interface in java.sql">SQLException</a></code></dd>
<dd><code><a href="http://docs.oracle.com/javase/7/docs/api/java/io/IOException.html?is-external=true" title="class or interface in java.io">IOException</a></code></dd>
<dd><code><a href="../../../../org/dspace/workflow/WorkflowException.html" title="class in org.dspace.workflow">WorkflowException</a></code></dd></dl>
</li>
</ul>
<a name="addPackageReference(org.dspace.content.DSpaceObject, java.lang.String)">
<!--   -->
</a>
<ul class="blockList">
<li class="blockList">
<h4>addPackageReference</h4>
<pre>public&nbsp;void&nbsp;addPackageReference(<a href="../../../../org/dspace/content/DSpaceObject.html" title="class in org.dspace.content">DSpaceObject</a>&nbsp;dso,
                       <a href="http://docs.oracle.com/javase/7/docs/api/java/lang/String.html?is-external=true" title="class or interface in java.lang">String</a>&nbsp;packageRef)</pre>
<div class="block">During ingestion process, some submission information packages (SIPs)
 may reference other packages to be ingested (recursively).
 <P>
 This method collects all references to other packages, so that we
 can choose to recursively ingest them, as necessary, alongside the
 DSpaceObject created from the original SIP.
 <P>
 References are collected based on the DSpaceObject created from the SIP
 (this way we keep the context of these references).</div>
<dl><dt><span class="strong">Parameters:</span></dt><dd><code>dso</code> - DSpaceObject whose SIP referenced another package</dd><dd><code>packageRef</code> - A reference to another package, which can be ingested after this one</dd></dl>
</li>
</ul>
<a name="getPackageReferences(org.dspace.content.DSpaceObject)">
<!--   -->
</a>
<ul class="blockList">
<li class="blockList">
<h4>getPackageReferences</h4>
<pre>public&nbsp;<a href="http://docs.oracle.com/javase/7/docs/api/java/util/List.html?is-external=true" title="class or interface in java.util">List</a>&lt;<a href="http://docs.oracle.com/javase/7/docs/api/java/lang/String.html?is-external=true" title="class or interface in java.lang">String</a>&gt;&nbsp;getPackageReferences(<a href="../../../../org/dspace/content/DSpaceObject.html" title="class in org.dspace.content">DSpaceObject</a>&nbsp;dso)</pre>
<div class="block">Return a list of known SIP references from a newly created DSpaceObject.
 <P>
 These references should detail where another package exists which
 should be ingested alongside the current DSpaceObject.
 <P>
 The <code>AbstractPackageIngester</code> or an equivalent SIP handler is expected
 to understand how to deal with these package references.</div>
<dl><dt><span class="strong">Parameters:</span></dt><dd><code>dso</code> - DSpaceObject whose SIP referenced other SIPs</dd>
<dt><span class="strong">Returns:</span></dt><dd>List of Strings which are the references to external submission ingestion packages
         (may be null if no SIPs were referenced)</dd></dl>
</li>
</ul>
<a name="addToIngestedMap(java.io.File, org.dspace.content.DSpaceObject)">
<!--   -->
</a>
<ul class="blockList">
<li class="blockList">
<h4>addToIngestedMap</h4>
<pre>protected&nbsp;void&nbsp;addToIngestedMap(<a href="http://docs.oracle.com/javase/7/docs/api/java/io/File.html?is-external=true" title="class or interface in java.io">File</a>&nbsp;pkgFile,
                    <a href="../../../../org/dspace/content/DSpaceObject.html" title="class in org.dspace.content">DSpaceObject</a>&nbsp;dso)</pre>
<div class="block">Add parsed package and resulting DSpaceObject to list of successfully 
 ingested/replaced objects.</div>
<dl><dt><span class="strong">Parameters:</span></dt><dd><code>pkgFile</code> - the package file that was used to create the object</dd><dd><code>dso</code> - the DSpaceObject created/replaced</dd></dl>
</li>
</ul>
<a name="getIngestedMap()">
<!--   -->
</a>
<ul class="blockList">
<li class="blockList">
<h4>getIngestedMap</h4>
<pre>protected&nbsp;<a href="http://docs.oracle.com/javase/7/docs/api/java/util/Map.html?is-external=true" title="class or interface in java.util">Map</a>&lt;<a href="http://docs.oracle.com/javase/7/docs/api/java/io/File.html?is-external=true" title="class or interface in java.io">File</a>,<a href="http://docs.oracle.com/javase/7/docs/api/java/lang/String.html?is-external=true" title="class or interface in java.lang">String</a>&gt;&nbsp;getIngestedMap()</pre>
<div class="block">Return Map of all packages ingested and the DSpaceObjects which have been 
 created/replaced by this instance of the Ingester.
 
 <P>
 The Map "key" is the package file which was parsed, and the "value"
 is the Identifier (i.e. Handle) of the DSpaceObject which was created/replaced.</div>
<dl><dt><span class="strong">Returns:</span></dt><dd>Map of DSpaceObjects which have been created/replaced.</dd></dl>
</li>
</ul>
<a name="getIngestedList()">
<!--   -->
</a>
<ul class="blockListLast">
<li class="blockList">
<h4>getIngestedList</h4>
<pre>protected&nbsp;<a href="http://docs.oracle.com/javase/7/docs/api/java/util/List.html?is-external=true" title="class or interface in java.util">List</a>&lt;<a href="http://docs.oracle.com/javase/7/docs/api/java/lang/String.html?is-external=true" title="class or interface in java.lang">String</a>&gt;&nbsp;getIngestedList()</pre>
<div class="block">Return List of all DSpaceObject Identifiers which have been ingested/replaced by
 this instance of the Ingester.
 <P>
 This list can be useful in reporting back to the user what content has
 been added or replaced.  It's used by ingestAll() and replaceAll() to
 return this list of everything that was ingested/replaced.</div>
<dl><dt><span class="strong">Returns:</span></dt><dd>List of Identifiers for DSpaceObjects which have been added/replaced</dd></dl>
</li>
</ul>
</li>
</ul>
</li>
</ul>
</div>
</div>
<!-- ========= END OF CLASS DATA ========= -->
<!-- ======= START OF BOTTOM NAVBAR ====== -->
<div class="bottomNav"><a name="navbar_bottom">
<!--   -->
</a><a href="#skip-navbar_bottom" title="Skip navigation links"></a><a name="navbar_bottom_firstrow">
<!--   -->
</a>
<ul class="navList" title="Navigation">
<li><a href="../../../../overview-summary.html">Overview</a></li>
<li><a href="package-summary.html">Package</a></li>
<li class="navBarCell1Rev">Class</li>
<li><a href="class-use/AbstractPackageIngester.html">Use</a></li>
<li><a href="package-tree.html">Tree</a></li>
<li><a href="../../../../deprecated-list.html">Deprecated</a></li>
<li><a href="../../../../index-all.html">Index</a></li>
<li><a href="../../../../help-doc.html">Help</a></li>
</ul>
</div>
<div class="subNav">
<ul class="navList">
<li><a href="../../../../org/dspace/content/packager/AbstractPackageDisseminator.html" title="class in org.dspace.content.packager"><span class="strong">Prev Class</span></a></li>
<li><a href="../../../../org/dspace/content/packager/DSpaceAIPDisseminator.html" title="class in org.dspace.content.packager"><span class="strong">Next Class</span></a></li>
</ul>
<ul class="navList">
<li><a href="../../../../index.html?org/dspace/content/packager/AbstractPackageIngester.html" target="_top">Frames</a></li>
<li><a href="AbstractPackageIngester.html" target="_top">No Frames</a></li>
</ul>
<ul class="navList" id="allclasses_navbar_bottom">
<li><a href="../../../../allclasses-noframe.html">All Classes</a></li>
</ul>
<div>
<script type="text/javascript"><!--
  allClassesLink = document.getElementById("allclasses_navbar_bottom");
  if(window==top) {
    allClassesLink.style.display = "block";
  }
  else {
    allClassesLink.style.display = "none";
  }
  //-->
</script>
</div>
<div>
<ul class="subNavList">
<li>Summary:&nbsp;</li>
<li>Nested&nbsp;|&nbsp;</li>
<li><a href="#field_summary">Field</a>&nbsp;|&nbsp;</li>
<li><a href="#constructor_summary">Constr</a>&nbsp;|&nbsp;</li>
<li><a href="#method_summary">Method</a></li>
</ul>
<ul class="subNavList">
<li>Detail:&nbsp;</li>
<li><a href="#field_detail">Field</a>&nbsp;|&nbsp;</li>
<li><a href="#constructor_detail">Constr</a>&nbsp;|&nbsp;</li>
<li><a href="#method_detail">Method</a></li>
</ul>
</div>
<a name="skip-navbar_bottom">
<!--   -->
</a></div>
<!-- ======== END OF BOTTOM NAVBAR ======= -->
<p class="legalCopy"><small>Copyright &#169; 2016 <a href="http://www.dspace.org">DuraSpace</a>. All rights reserved.</small></p>
</body>
</html>
